<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">

<a id="3" class="Symbol">{-#</a> <a id="7" class="Keyword">OPTIONS</a> <a id="15" class="Pragma">--safe</a> <a id="22" class="Symbol">#-}</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="Ledger.Conway.Specification.Transaction.html" class="Module">Ledger.Conway.Specification.Transaction</a>
<a id="79" class="Keyword">open</a> <a id="84" class="Keyword">import</a> <a id="91" href="Ledger.Conway.Specification.Abstract.html" class="Module">Ledger.Conway.Specification.Abstract</a>

<a id="129" class="Keyword">module</a> <a id="136" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html" class="Module">Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch</a>
  <a id="196" class="Symbol">(</a><a id="197" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="201" class="Symbol">:</a> <a id="203" class="Symbol">_)</a> <a id="206" class="Symbol">(</a><a id="207" class="Keyword">open</a> <a id="212" href="Ledger.Conway.Specification.Transaction.html#999" class="Module">TransactionStructure</a> <a id="233" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="236" class="Symbol">)</a>
  <a id="240" class="Symbol">(</a><a id="241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a> <a id="245" class="Symbol">:</a> <a id="247" href="Ledger.Conway.Specification.Abstract.html#654" class="Record">AbstractFunctions</a> <a id="265" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="268" class="Symbol">)</a> <a id="270" class="Symbol">(</a><a id="271" class="Keyword">open</a> <a id="276" href="Ledger.Conway.Specification.Abstract.html#654" class="Module">AbstractFunctions</a> <a id="294" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a><a id="297" class="Symbol">)</a>
  <a id="301" class="Keyword">where</a>

<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="335" class="Keyword">using</a> <a id="341" class="Symbol">(</a><a id="342" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a><a id="346" class="Symbol">)</a>
<a id="348" class="Keyword">open</a> <a id="353" class="Keyword">import</a> <a id="360" href="Ledger.Conway.Specification.Certs.html" class="Module">Ledger.Conway.Specification.Certs</a> <a id="394" href="Ledger.Conway.Specification.Transaction.html#2077" class="Function">govStructure</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Ledger.Conway.Specification.Epoch.html" class="Module">Ledger.Conway.Specification.Epoch</a> <a id="453" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="457" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Ledger.Conway.Specification.Ledger.html" class="Module">Ledger.Conway.Specification.Ledger</a> <a id="508" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="512" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Ledger.Conway.Specification.Ledger.Properties.Base.html" class="Module">Ledger.Conway.Specification.Ledger.Properties.Base</a> <a id="579" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="583" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="587" class="Keyword">open</a> <a id="592" class="Keyword">import</a> <a id="599" href="Ledger.Conway.Specification.PoolReap.html" class="Module">Ledger.Conway.Specification.PoolReap</a> <a id="636" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="640" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="671" class="Keyword">renaming</a> <a id="680" class="Symbol">(</a><a id="681" href="Class.Functor.Core.html#272" class="Function">map</a> <a id="685" class="Symbol">to</a> <a id="688" class="Function">map&#39;</a><a id="692" class="Symbol">;</a> <a id="694" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="699" class="Symbol">to</a> <a id="702" class="Function">map</a><a id="705" class="Symbol">)</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Ledger.Conway.Specification.Ratify.html" class="Module">Ledger.Conway.Specification.Ratify</a> <a id="754" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="Ledger.Conway.Specification.Utxo.html" class="Module">Ledger.Conway.Specification.Utxo</a> <a id="803" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a> <a id="807" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#241" class="Bound">abs</a>

<a id="812" class="Keyword">open</a> <a id="817" class="Keyword">import</a> <a id="824" href="Axiom.Set.Properties.html" class="Module">Axiom.Set.Properties</a> <a id="845" href="Axiom.Set.html#10751" class="Function">th</a>

<a id="849" class="Keyword">open</a> <a id="854" class="Keyword">import</a> <a id="861" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="876" class="Keyword">using</a> <a id="882" class="Symbol">(</a><a id="883" href="Data.List.Base.html#10389" class="Function">filter</a><a id="889" class="Symbol">)</a>
<a id="891" class="Keyword">open</a> <a id="896" class="Keyword">import</a> <a id="903" href="Data.List.Membership.Propositional.Properties.html" class="Module">Data.List.Membership.Propositional.Properties</a> <a id="949" class="Keyword">using</a> <a id="955" class="Symbol">(</a><a id="956" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a><a id="965" class="Symbol">;</a> <a id="967" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a><a id="973" class="Symbol">)</a>
<a id="975" class="Keyword">open</a> <a id="980" class="Keyword">import</a> <a id="987" href="stdlib.Data.List.Subpermutations.html" class="Module">stdlib.Data.List.Subpermutations</a> <a id="1020" class="Keyword">using</a> <a id="1026" class="Symbol">(</a><a id="1027" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a><a id="1040" class="Symbol">)</a>
<a id="1042" class="Keyword">open</a> <a id="1047" class="Keyword">import</a> <a id="1054" href="Data.Product.Function.NonDependent.Propositional.html" class="Module">Data.Product.Function.NonDependent.Propositional</a> <a id="1103" class="Keyword">using</a> <a id="1109" class="Symbol">(</a><a id="1110" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">_×-cong_</a><a id="1118" class="Symbol">)</a>
<a id="1120" class="Keyword">open</a> <a id="1125" class="Keyword">import</a> <a id="1132" href="Data.Product.Properties.html" class="Module">Data.Product.Properties</a> <a id="1156" class="Keyword">using</a> <a id="1162" class="Symbol">(</a><a id="1163" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a><a id="1170" class="Symbol">)</a>
<a id="1172" class="Keyword">open</a> <a id="1177" class="Keyword">import</a> <a id="1184" href="Data.Product.Properties.Ext.html" class="Module">Data.Product.Properties.Ext</a> <a id="1212" class="Keyword">using</a> <a id="1218" class="Symbol">(</a><a id="1219" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a><a id="1227" class="Symbol">)</a>

<a id="1230" class="Keyword">open</a> <a id="1235" class="Keyword">import</a> <a id="1242" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="1257" class="Keyword">using</a> <a id="1263" class="Symbol">(</a><a id="1264" href="Relation.Unary.html#4543" class="Function">Decidable</a><a id="1273" class="Symbol">)</a>

<a id="1276" class="Keyword">open</a> <a id="1281" href="Function.Bundles.html#4750" class="Module">Equivalence</a>

<a id="1294" class="Keyword">import</a> <a id="1301" href="Function.Related.Propositional.html" class="Module">Function.Related.Propositional</a> <a id="1332" class="Symbol">as</a> <a id="1335" class="Module">R</a>
<a id="1337" class="Keyword">import</a> <a id="1344" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1377" class="Symbol">as</a> <a id="1380" class="Module">SetoidReasoning</a>

<a id="1397" class="Keyword">module</a> <a id="EPOCH-Body"></a><a id="1404" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1404" class="Module">EPOCH-Body</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1416" class="Bound">eps</a> <a id="1420" class="Symbol">:</a> <a id="1422" href="Ledger.Conway.Specification.Epoch.html#1703" class="Record">EpochState</a><a id="1432" class="Symbol">)</a> <a id="1434" class="Keyword">where</a>
  <a id="1442" class="Keyword">open</a> <a id="1447" href="Ledger.Conway.Specification.Epoch.html#1703" class="Module">EpochState</a> <a id="1458" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1416" class="Bound">eps</a> <a id="1462" class="Keyword">hiding</a> <a id="1469" class="Symbol">(</a><a id="1470" href="Ledger.Conway.Specification.Epoch.html#1844" class="Field">es</a><a id="1472" class="Symbol">)</a> <a id="1474" class="Keyword">renaming</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Ledger.Conway.Specification.Epoch.html#1820" class="Field">ls</a> <a id="1487" class="Symbol">to</a> <a id="1490" class="Field">epsLState</a><a id="1499" class="Symbol">;</a> <a id="1501" href="Ledger.Conway.Specification.Epoch.html#1872" class="Field">fut</a> <a id="1505" class="Symbol">to</a> <a id="1508" class="Field">epsRState</a><a id="1517" class="Symbol">)</a> <a id="1519" class="Keyword">public</a>
  <a id="1528" class="Keyword">open</a> <a id="1533" href="Ledger.Conway.Specification.Ratify.html#3530" class="Module">RatifyState</a> <a id="1545" class="Keyword">renaming</a> <a id="1554" class="Symbol">(</a><a id="1555" href="Ledger.Conway.Specification.Ratify.html#3567" class="Field">es</a> <a id="1558" class="Symbol">to</a> <a id="1561" class="Field">ensRState</a><a id="1570" class="Symbol">)</a> <a id="1572" class="Keyword">public</a>
  <a id="1581" class="Keyword">open</a> <a id="1586" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a> <a id="1593" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1490" class="Field">epsLState</a> <a id="1603" class="Keyword">public</a>
  <a id="1612" class="Keyword">open</a> <a id="1617" href="Ledger.Conway.Specification.Certs.html#4031" class="Module">PState</a> <a id="1624" class="Keyword">public</a>
  <a id="1633" class="Keyword">open</a> <a id="1638" href="Ledger.Conway.Specification.Gov.Actions.html#3761" class="Module">GovActionState</a> <a id="1653" class="Keyword">public</a>

  <a id="EPOCH-Body.ens"></a><a id="1663" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1663" class="Function">ens</a>      <a id="1672" class="Symbol">=</a> <a id="1674" class="Keyword">record</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1508" class="Field">epsRState</a> <a id="1692" class="Symbol">.</a><a id="1693" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1561" class="Field">ensRState</a><a id="1702" class="Symbol">)</a> <a id="1704" class="Symbol">{</a> <a id="1706" href="Ledger.Conway.Specification.Enact.html#700" class="Field">withdrawals</a> <a id="1718" class="Symbol">=</a> <a id="1720" href="Class.HasEmptySet.html#287" class="Field">∅</a> <a id="1722" class="Symbol">}</a>
  <a id="EPOCH-Body.tmpGovSt"></a><a id="1726" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1726" class="Function">tmpGovSt</a> <a id="1735" class="Symbol">=</a> <a id="1737" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="1744" class="Symbol">(λ</a> <a id="1747" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1747" class="Bound">x</a> <a id="1749" class="Symbol">→</a> <a id="1751" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="1753" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1759" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1747" class="Bound">x</a> <a id="1761" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="1763" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#702" class="Function">map</a> <a id="1767" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1508" class="Field">epsRState</a> <a id="1784" class="Symbol">.</a><a id="1785" href="Ledger.Conway.Specification.Ratify.html#3593" class="Field">removed</a><a id="1792" class="Symbol">)</a> <a id="1794" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a><a id="1795" class="Symbol">)</a> <a id="1797" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a>
  <a id="EPOCH-Body.orphans"></a><a id="1805" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1805" class="Function">orphans</a>  <a id="1814" class="Symbol">=</a> <a id="1816" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="1825" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="1827" href="Ledger.Conway.Specification.Epoch.html#12637" class="Function">getOrphans</a> <a id="1838" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1663" class="Function">ens</a> <a id="1842" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1726" class="Function">tmpGovSt</a>
  <a id="EPOCH-Body.removed&#39;"></a><a id="1853" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1853" class="Function">removed&#39;</a> <a id="1862" class="Symbol">:</a> <a id="1864" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="1866" class="Symbol">(</a><a id="1867" href="Ledger.Conway.Specification.Gov.Actions.html#665" class="Function">GovActionID</a> <a id="1879" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1881" href="Ledger.Conway.Specification.Gov.Actions.html#3761" class="Record">GovActionState</a><a id="1895" class="Symbol">)</a>
  <a id="1899" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1853" class="Function">removed&#39;</a> <a id="1908" class="Symbol">=</a> <a id="1910" class="Symbol">(</a><a id="1911" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1508" class="Field">epsRState</a> <a id="1921" class="Symbol">.</a><a id="1922" href="Ledger.Conway.Specification.Ratify.html#3593" class="Field">removed</a><a id="1929" class="Symbol">)</a> <a id="1931" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="1933" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1805" class="Function">orphans</a>
  <a id="EPOCH-Body.removedGovActions"></a><a id="1943" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1943" class="Function">removedGovActions</a> <a id="1961" class="Symbol">=</a> <a id="1963" href="Function.Base.html#1657" class="Function">flip</a> <a id="1968" href="Axiom.Set.html#7022" class="Function">concatMapˢ</a> <a id="1979" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1853" class="Function">removed&#39;</a> <a id="1988" class="Symbol">λ</a> <a id="1990" class="Symbol">(</a><a id="1991" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1991" class="Bound">gaid</a> <a id="1996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1998" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1998" class="Bound">gaSt</a><a id="2002" class="Symbol">)</a> <a id="2004" class="Symbol">→</a>
    <a id="2010" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#702" class="Function">map</a> <a id="2014" class="Symbol">(</a><a id="2015" href="Ledger.Conway.Specification.Gov.Actions.html#3828" class="Field">returnAddr</a> <a id="2026" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1998" class="Bound">gaSt</a> <a id="2031" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2033" class="Symbol">)</a> <a id="2035" class="Symbol">((</a><a id="2037" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="2048" href="Ledger.Conway.Specification.Ledger.html#1038" class="Function">utxoSt</a> <a id="2055" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="2057" href="Class.HasSingleton.html#288" class="Field Operator">❴</a> <a id="2059" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="2076" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1991" class="Bound">gaid</a> <a id="2081" href="Class.HasSingleton.html#288" class="Field Operator">❵</a><a id="2082" class="Symbol">)</a> <a id="2084" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="2085" class="Symbol">)</a>

<a id="2088" class="Keyword">module</a> <a id="EPOCH-PROPS"></a><a id="2095" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2095" class="Module">EPOCH-PROPS</a> <a id="2107" class="Symbol">{</a><a id="2108" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a> <a id="2112" class="Symbol">:</a> <a id="2114" href="Ledger.Conway.Specification.Epoch.html#1703" class="Record">EpochState</a><a id="2124" class="Symbol">}</a> <a id="2126" class="Keyword">where</a>
  <a id="2134" class="Keyword">open</a> <a id="2139" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1404" class="Module">EPOCH-Body</a> <a id="2150" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a>


  <a id="EPOCH-PROPS.EPOCH-govDepsMatch"></a><a id="2158" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2158" class="Function">EPOCH-govDepsMatch</a> <a id="2177" class="Symbol">:</a>  <a id="2180" class="Symbol">{</a><a id="2181" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2181" class="Bound">eps&#39;</a> <a id="2186" class="Symbol">:</a> <a id="2188" href="Ledger.Conway.Specification.Epoch.html#1703" class="Record">EpochState</a><a id="2198" class="Symbol">}</a> <a id="2200" class="Symbol">{</a><a id="2201" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2201" class="Bound">e</a> <a id="2203" class="Symbol">:</a> <a id="2205" href="Ledger.Core.Specification.Epoch.html#598" class="Function">Epoch</a><a id="2210" class="Symbol">}</a>
    <a id="2216" class="Symbol">→</a> <a id="2218" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#702" class="Function">map</a> <a id="2222" class="Symbol">(</a><a id="2223" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="2240" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2242" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2247" class="Symbol">)</a> <a id="2249" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1853" class="Function">removed&#39;</a> <a id="2258" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="2260" href="Class.IsSet.html#916" class="Function">dom</a> <a id="2264" class="Symbol">(</a><a id="2265" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="2276" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a><a id="2279" class="Symbol">)</a>
    <a id="2285" class="Symbol">→</a> <a id="2287" class="Symbol">_</a> <a id="2289" href="Ledger.Conway.Specification.Epoch.html#15870" class="Datatype Operator">⊢</a> <a id="2291" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a> <a id="2295" href="Ledger.Conway.Specification.Epoch.html#15870" class="Datatype Operator">⇀⦇</a> <a id="2298" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2201" class="Bound">e</a> <a id="2300" href="Ledger.Conway.Specification.Epoch.html#15870" class="Datatype Operator">,EPOCH⦈</a> <a id="2308" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2181" class="Bound">eps&#39;</a>
    <a id="2317" class="Symbol">→</a> <a id="2319" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1513" class="Function">govDepsMatch</a> <a id="2332" class="Symbol">(</a><a id="2333" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="2342" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a><a id="2345" class="Symbol">)</a> <a id="2347" class="Symbol">→</a> <a id="2349" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1513" class="Function">govDepsMatch</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="2372" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2181" class="Bound">eps&#39;</a><a id="2376" class="Symbol">)</a>


  <a id="2382" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2158" class="Function">EPOCH-govDepsMatch</a> <a id="2401" class="Symbol">{</a><a id="2402" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2402" class="Bound">eps&#39;</a><a id="2406" class="Symbol">}</a> <a id="2408" class="Symbol">{</a><a id="2409" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2409" class="Bound">e</a><a id="2410" class="Symbol">}</a> <a id="2412" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2412" class="Bound">ratify-removed</a> <a id="2427" class="Symbol">(</a><a id="2428" href="Ledger.Conway.Specification.Epoch.html#15940" class="InductiveConstructor">EPOCH</a> <a id="2434" class="Symbol">(</a><a id="2435" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2435" class="Bound">x</a> <a id="2437" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2439" class="Symbol">_</a> <a id="2441" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2443" href="Ledger.Conway.Specification.PoolReap.html#935" class="InductiveConstructor">POOLREAP</a><a id="2451" class="Symbol">))</a> <a id="2454" class="Symbol">=</a>
      <a id="2462" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9342" class="Function">poolReapMatch</a> <a id="2476" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2478" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7352" class="Function">ratifiesSnapMatch</a>
    <a id="2500" class="Keyword">where</a>

    <a id="2511" class="Comment">-- the combinator used in the EPOCH rule</a>
    <a id="2556" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2556" class="Function">ΔΠ</a> <a id="2559" class="Symbol">:</a> <a id="2561" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2563" href="Ledger.Conway.Specification.Certs.html#548" class="Datatype">DepositPurpose</a>
    <a id="2582" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2556" class="Function">ΔΠ</a> <a id="2585" class="Symbol">=</a> <a id="2587" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#702" class="Function">map</a> <a id="2591" class="Symbol">(</a><a id="2592" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2598" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2600" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="2605" class="Symbol">)</a> <a id="2607" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1943" class="Function">removedGovActions</a>

    <a id="2630" class="Comment">-- a simpler combinator that suffices here;</a>
    <a id="2678" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="2682" class="Symbol">:</a> <a id="2684" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="2686" href="Ledger.Conway.Specification.Certs.html#548" class="Datatype">DepositPurpose</a>
    <a id="2705" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="2709" class="Symbol">=</a> <a id="2711" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#702" class="Function">map</a> <a id="2715" class="Symbol">(</a><a id="2716" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="2733" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="2735" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="2740" class="Symbol">)</a> <a id="2742" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1853" class="Function">removed&#39;</a>
    <a id="2755" class="Comment">-- Below we prove ΔΠ and ΔΠ&#39; are essentially equivalent.</a>

    <a id="2817" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2817" class="Function">P</a> <a id="2819" class="Symbol">:</a> <a id="2821" href="Ledger.Conway.Specification.Gov.Actions.html#665" class="Function">GovActionID</a> <a id="2833" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2835" href="Ledger.Conway.Specification.Gov.Actions.html#3761" class="Record">GovActionState</a> <a id="2850" class="Symbol">→</a> <a id="2852" href="Agda.Primitive.html#388" class="Primitive">Type</a>
    <a id="2861" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2817" class="Function">P</a> <a id="2863" class="Symbol">=</a> <a id="2865" class="Symbol">λ</a> <a id="2867" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2867" class="Bound">u</a> <a id="2869" class="Symbol">→</a> <a id="2871" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2877" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2867" class="Bound">u</a> <a id="2879" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="2881" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#702" class="Function">map</a> <a id="2885" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="2891" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1853" class="Function">removed&#39;</a>

    <a id="2905" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="2908" class="Symbol">:</a> <a id="2910" href="Relation.Unary.html#4543" class="Function">Decidable</a> <a id="2920" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2817" class="Function">P</a>
    <a id="2926" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="2929" class="Symbol">=</a> <a id="2931" class="Symbol">λ</a> <a id="2933" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2933" class="Bound">u</a> <a id="2935" class="Symbol">→</a> <a id="2937" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a> <a id="2939" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2817" class="Function">P</a> <a id="2941" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2933" class="Bound">u</a> <a id="2943" href="Class.Decidable.Core.html#470" class="Function Operator">¿</a>

    <a id="2950" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a> <a id="2959" class="Symbol">:</a> <a id="2961" href="Ledger.Conway.Specification.Certs.html#789" class="Function">Deposits</a>
    <a id="2974" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a> <a id="2983" class="Symbol">=</a> <a id="2985" href="Ledger.Conway.Specification.Utxo.html#1338" class="Field">UTxOState.deposits</a> <a id="3004" class="Symbol">(</a><a id="3005" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">LState.utxoSt</a> <a id="3019" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#1490" class="Field">epsLState</a><a id="3028" class="Symbol">)</a>

    <a id="3035" class="Comment">-- utxo deposits restricted to new form of set used in EPOCH rule</a>
    <a id="3105" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3105" class="Function">utxoDeps&#39;</a> <a id="3115" class="Symbol">:</a> <a id="3117" href="Ledger.Conway.Specification.Certs.html#789" class="Function">Deposits</a>
    <a id="3130" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3105" class="Function">utxoDeps&#39;</a> <a id="3140" class="Symbol">=</a> <a id="3142" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a> <a id="3151" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="3153" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="3157" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a>

    <a id="3164" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3164" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3171" class="Symbol">:</a> <a id="3173" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="3177" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a> <a id="3180" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2556" class="Function">ΔΠ</a>
    <a id="3187" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3164" class="Function">ΔΠ&#39;≡ΔΠ</a> <a id="3194" class="Symbol">=</a> <a id="3196" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3230" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3205" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3741" class="Function">ΔΠ⊆ΔΠ&#39;</a>
      <a id="3218" class="Keyword">where</a>
      <a id="3230" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3230" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3237" class="Symbol">:</a> <a id="3239" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="3243" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3245" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2556" class="Function">ΔΠ</a>
      <a id="3254" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3230" class="Function">ΔΠ&#39;⊆ΔΠ</a> <a id="3261" class="Symbol">{</a><a id="3262" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3262" class="Bound">a</a><a id="3263" class="Symbol">}</a> <a id="3265" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3265" class="Bound">x</a> <a id="3267" class="Keyword">with</a> <a id="3272" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3277" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3283" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3265" class="Bound">x</a>
      <a id="3291" class="Symbol">...</a> <a id="3295" class="Symbol">|</a> <a id="3297" class="Symbol">(</a><a id="3298" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3298" class="Bound">gaid</a> <a id="3303" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3305" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3305" class="Bound">gast</a><a id="3309" class="Symbol">)</a> <a id="3311" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3313" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3318" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3320" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3320" class="Bound">gaidgast∈rem</a> <a id="3333" class="Keyword">with</a> <a id="3338" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3343" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3349" class="Symbol">(</a><a id="3350" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2412" class="Bound">ratify-removed</a> <a id="3365" class="Bound">x</a><a id="3366" class="Symbol">)</a>
      <a id="3374" class="Symbol">...</a> <a id="3378" class="Symbol">|</a> <a id="3380" class="Symbol">(</a><a id="3381" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3381" class="Bound">dp</a> <a id="3384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3386" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3386" class="Bound">c</a><a id="3387" class="Symbol">)</a> <a id="3389" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3391" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3398" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3398" class="Bound">dpc∈utxoDeps</a> <a id="3411" class="Symbol">=</a> <a id="3413" class="Keyword">let</a> <a id="3417" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3417" class="Bound">gadc</a> <a id="3422" class="Symbol">=</a> <a id="3424" class="Symbol">(</a><a id="3425" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="3442" class="Bound">gaid</a> <a id="3447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3449" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3386" class="Bound">c</a><a id="3450" class="Symbol">)</a> <a id="3452" class="Keyword">in</a>
        <a id="3463" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3466" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3472" class="Symbol">((</a><a id="3474" href="Ledger.Conway.Specification.Gov.Actions.html#3828" class="Field">returnAddr</a> <a id="3485" class="Symbol">{</a><a id="3486" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#197" class="Bound">txs</a><a id="3489" class="Symbol">}</a> <a id="3491" class="Bound">gast</a> <a id="3496" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3498" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3417" class="Bound">gadc</a><a id="3502" class="Symbol">)</a>
                 <a id="3521" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3523" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
                 <a id="3545" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3547" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3550" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3563" class="Symbol">((</a><a id="3565" class="Bound">gaid</a> <a id="3570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3572" class="Bound">gast</a><a id="3576" class="Symbol">)</a>
                                   <a id="3613" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3615" class="Bound">gaidgast∈rem</a>
                                   <a id="3663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3665" href="Function.Bundles.html#4808" class="Field">to</a> <a id="3668" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3417" class="Bound">gadc</a> <a id="3680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3682" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3689" href="Axiom.Set.Map.html#15006" class="Function">res-singleton⁺</a> <a id="3704" class="Symbol">{</a><a id="3705" class="Argument">m</a> <a id="3707" class="Symbol">=</a> <a id="3709" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="3717" class="Symbol">}</a> <a id="3719" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3398" class="Bound">dpc∈utxoDeps</a><a id="3731" class="Symbol">)))</a>
      <a id="3741" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3741" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2556" class="Function">ΔΠ</a> <a id="3753" href="Interface.HasSubset.html#158" class="Field Operator">⊆</a> <a id="3755" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a>
      <a id="3765" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3741" class="Function">ΔΠ⊆ΔΠ&#39;</a> <a id="3772" class="Symbol">{</a><a id="3773" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3773" class="Bound">a</a><a id="3774" class="Symbol">}</a> <a id="3776" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3776" class="Bound">x</a> <a id="3778" class="Keyword">with</a> <a id="3783" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3788" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3794" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3776" class="Bound">x</a>
      <a id="3802" class="Symbol">...</a> <a id="3806" class="Symbol">|</a> <a id="3808" class="Symbol">(</a><a id="3809" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3809" class="Bound">rwa</a> <a id="3813" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3815" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3815" class="Bound">dp</a> <a id="3818" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3820" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3820" class="Bound">c</a><a id="3821" class="Symbol">)</a> <a id="3823" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3825" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3830" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3832" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3832" class="Bound">rwa-dp-c∈</a> <a id="3842" class="Keyword">with</a> <a id="3847" class="Symbol">(</a><a id="3848" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3853" href="Axiom.Set.html#7110" class="Function">∈-concatMapˢ</a> <a id="3866" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3832" class="Bound">rwa-dp-c∈</a><a id="3875" class="Symbol">)</a>
      <a id="3883" class="Symbol">...</a> <a id="3887" class="Symbol">|</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3890" class="Bound">gaid</a> <a id="3895" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3897" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3897" class="Bound">gast</a><a id="3901" class="Symbol">)</a> <a id="3903" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3905" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3905" class="Bound">gaid-gast-∈-removed</a> <a id="3925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3927" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3927" class="Bound">rwa-dp-c-∈-map</a> <a id="3942" class="Keyword">with</a> <a id="3947" class="Symbol">(</a><a id="3948" href="Function.Bundles.html#4832" class="Field">from</a> <a id="3953" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="3959" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3927" class="Bound">rwa-dp-c-∈-map</a><a id="3973" class="Symbol">)</a>
      <a id="3981" class="Symbol">...</a> <a id="3985" class="Symbol">|</a> <a id="3987" class="Symbol">(_</a> <a id="3990" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3992" class="Symbol">_)</a> <a id="3995" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3997" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4004" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4004" class="Bound">q∈</a> <a id="4007" class="Symbol">=</a>
        <a id="4017" href="Function.Bundles.html#4808" class="Field">to</a> <a id="4020" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="4026" class="Symbol">((</a><a id="4028" class="Bound">gaid</a> <a id="4033" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4035" class="Bound">gast</a><a id="4039" class="Symbol">)</a>
                 <a id="4058" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4060" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="4066" class="Symbol">(</a><a id="4067" href="Data.Product.Properties.html#3393" class="Function">×-≡,≡←≡</a> <a id="4075" class="Symbol">(</a><a id="4076" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="4082" class="Symbol">(</a><a id="4083" href="Axiom.Set.Map.html#15450" class="Function">res-singleton&#39;&#39;</a> <a id="4099" class="Symbol">{</a><a id="4100" class="Argument">m</a> <a id="4102" class="Symbol">=</a> <a id="4104" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="4112" class="Symbol">}</a> <a id="4114" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4004" class="Bound">q∈</a><a id="4116" class="Symbol">)))</a>
                 <a id="4137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4139" class="Bound">gaid-gast-∈-removed</a><a id="4158" class="Symbol">)</a>

    <a id="4165" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4165" class="Function">map-filter-decomp</a> <a id="4183" class="Symbol">:</a> <a id="4185" class="Symbol">∀</a> <a id="4187" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4187" class="Bound">a</a> <a id="4189" class="Symbol">→</a> <a id="4191" class="Symbol">(</a><a id="4192" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4187" class="Bound">a</a> <a id="4194" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4196" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="4200" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4202" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4187" class="Bound">a</a> <a id="4204" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="4207" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="4212" class="Symbol">(</a><a id="4213" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4230" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4232" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4237" class="Symbol">)</a> <a id="4239" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="4244" class="Symbol">)</a>
                               <a id="4277" href="Function.Bundles.html#12398" class="Function Operator">⇔</a> <a id="4279" class="Symbol">(</a><a id="4280" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4187" class="Bound">a</a> <a id="4282" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="4285" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="4290" class="Symbol">(</a><a id="4291" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4308" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4310" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4315" class="Symbol">)(</a><a id="4317" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4324" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="4327" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="4332" class="Symbol">))</a>
    <a id="4339" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4165" class="Function">map-filter-decomp</a> <a id="4357" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="4359" class="Symbol">=</a> <a id="4361" href="Function.Bundles.html#13497" class="Function">mk⇔</a> <a id="4365" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4406" class="Function">i</a> <a id="4367" class="Symbol">(λ</a> <a id="4370" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4370" class="Bound">h</a> <a id="4372" class="Symbol">→</a> <a id="4374" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4783" class="Function">ii</a> <a id="4377" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4370" class="Bound">h</a> <a id="4379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4381" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5042" class="Function">iii</a> <a id="4385" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4370" class="Bound">h</a><a id="4386" class="Symbol">)</a>
      <a id="4394" class="Keyword">where</a>
      <a id="4406" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4406" class="Function">i</a> <a id="4408" class="Symbol">:</a> <a id="4410" class="Symbol">((</a><a id="4412" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="4414" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4416" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a><a id="4419" class="Symbol">)</a> <a id="4421" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4423" class="Symbol">(</a><a id="4424" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="4426" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="4429" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="4434" class="Symbol">(</a><a id="4435" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4452" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4454" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4459" class="Symbol">)</a> <a id="4461" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="4466" class="Symbol">))</a>
          <a id="4479" class="Symbol">→</a> <a id="4481" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="4483" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="4486" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="4491" class="Symbol">(</a><a id="4492" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4509" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4511" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4516" class="Symbol">)</a> <a id="4518" class="Symbol">(</a><a id="4519" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4526" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="4529" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="4534" class="Symbol">)</a>
      <a id="4542" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4406" class="Function">i</a> <a id="4544" class="Symbol">(</a><a id="4545" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4545" class="Bound">a∉ΔΠ&#39;</a> <a id="4551" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4553" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4553" class="Bound">a∈</a><a id="4555" class="Symbol">)</a> <a id="4557" class="Keyword">with</a> <a id="4562" href="Function.Bundles.html#7416" class="Field">Inverse.from</a> <a id="4575" class="Symbol">(</a><a id="4576" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4583" class="Symbol">(</a><a id="4584" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4601" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4603" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4608" class="Symbol">))</a> <a id="4611" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4553" class="Bound">a∈</a>
      <a id="4620" class="Symbol">...</a> <a id="4624" class="Symbol">|</a> <a id="4626" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4626" class="Bound">b</a> <a id="4628" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4630" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4630" class="Bound">b∈</a> <a id="4633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4635" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4640" class="Symbol">=</a> <a id="4642" href="Function.Bundles.html#7392" class="Field">Inverse.to</a> <a id="4653" class="Symbol">(</a><a id="4654" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="4661" class="Symbol">(</a><a id="4662" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4679" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4681" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4686" class="Symbol">))</a>
                                       <a id="4728" class="Symbol">(</a><a id="4729" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4626" class="Bound">b</a> <a id="4731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4733" href="Data.List.Membership.Propositional.Properties.html#9538" class="Function">∈-filter⁺</a> <a id="4743" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="4746" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4630" class="Bound">b∈</a> <a id="4749" class="Symbol">(</a><a id="4750" class="Bound">a∉ΔΠ&#39;</a> <a id="4756" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4758" href="Axiom.Set.Properties.html#5166" class="Function">∈-map⁺-∘</a><a id="4766" class="Symbol">)</a> <a id="4768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4770" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4774" class="Symbol">)</a>

      <a id="4783" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4783" class="Function">ii</a> <a id="4786" class="Symbol">:</a> <a id="4788" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="4790" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="4793" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="4798" class="Symbol">(</a><a id="4799" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="4816" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="4818" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="4823" class="Symbol">)</a> <a id="4825" class="Symbol">(</a><a id="4826" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="4833" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="4836" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="4841" class="Symbol">)</a> <a id="4843" class="Symbol">→</a> <a id="4845" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="4847" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="4849" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a>
      <a id="4859" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4783" class="Function">ii</a> <a id="4862" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4862" class="Bound">a∈</a> <a id="4865" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4865" class="Bound">a∈ΔΠ&#39;</a> <a id="4871" class="Keyword">with</a> <a id="4876" href="Function.Bundles.html#4832" class="Field">from</a> <a id="4881" class="Symbol">(</a><a id="4882" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="4896" class="Symbol">{</a><a id="4897" class="Argument">l</a> <a id="4899" class="Symbol">=</a> <a id="4901" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="4906" class="Symbol">}</a> <a id="4908" class="Symbol">{</a><a id="4909" class="Argument">P?</a> <a id="4912" class="Symbol">=</a> <a id="4914" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a><a id="4916" class="Symbol">})</a> <a id="4919" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4862" class="Bound">a∈</a>
      <a id="4928" class="Symbol">...</a> <a id="4932" class="Symbol">|</a> <a id="4934" class="Symbol">_</a> <a id="4936" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4938" class="Symbol">_</a> <a id="4940" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4942" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4947" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4949" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4949" class="Bound">Pb</a> <a id="4952" class="Keyword">with</a> <a id="4957" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="4965" class="Bound">a∈ΔΠ&#39;</a>
      <a id="4977" class="Symbol">...</a> <a id="4981" class="Symbol">|</a> <a id="4983" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4983" class="Bound">q</a> <a id="4985" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4987" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4992" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4994" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4994" class="Bound">q∈rem</a> <a id="5000" class="Symbol">=</a> <a id="5002" class="Bound">Pb</a> <a id="5005" class="Symbol">(</a><a id="5006" href="Function.Bundles.html#4808" class="Field">to</a> <a id="5009" href="Axiom.Set.html#5140" class="Function">∈-map</a> <a id="5015" class="Symbol">(</a><a id="5016" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4983" class="Bound">q</a> <a id="5018" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5020" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5027" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4994" class="Bound">q∈rem</a><a id="5032" class="Symbol">))</a>

      <a id="5042" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5042" class="Function">iii</a> <a id="5046" class="Symbol">:</a> <a id="5048" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="5050" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="5053" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="5058" class="Symbol">(</a><a id="5059" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="5076" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5078" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5083" class="Symbol">)</a> <a id="5085" class="Symbol">(</a><a id="5086" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="5093" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="5096" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="5101" class="Symbol">)</a>
            <a id="5115" class="Symbol">→</a> <a id="5117" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4357" class="Bound">a</a> <a id="5119" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="5122" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="5127" class="Symbol">(</a><a id="5128" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="5145" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5147" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5152" class="Symbol">)</a> <a id="5154" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a>
      <a id="5166" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5042" class="Function">iii</a> <a id="5170" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5170" class="Bound">a∈</a> <a id="5173" class="Keyword">with</a> <a id="5178" href="Function.Bundles.html#4832" class="Field">from</a> <a id="5183" class="Symbol">(</a><a id="5184" href="stdlib.Data.List.Subpermutations.html#1961" class="Function">∈ˡ-map-filter</a> <a id="5198" class="Symbol">{</a><a id="5199" class="Argument">l</a> <a id="5201" class="Symbol">=</a> <a id="5203" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="5208" class="Symbol">}</a> <a id="5210" class="Symbol">{</a><a id="5211" class="Argument">P?</a> <a id="5214" class="Symbol">=</a> <a id="5216" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a><a id="5218" class="Symbol">})</a> <a id="5221" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5170" class="Bound">a∈</a>
      <a id="5230" class="Symbol">...</a> <a id="5234" class="Symbol">|</a> <a id="5236" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5236" class="Bound">b</a> <a id="5238" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5240" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5240" class="Bound">b∈</a> <a id="5243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5245" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="5250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5252" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5252" class="Bound">Pb</a> <a id="5255" class="Symbol">=</a> <a id="5257" href="Function.Bundles.html#7392" class="Field">Inverse.to</a> <a id="5268" class="Symbol">(</a><a id="5269" href="Data.List.Membership.Propositional.Properties.html#4274" class="Function">map-∈↔</a> <a id="5276" class="Symbol">(</a><a id="5277" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="5294" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5296" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5301" class="Symbol">))</a> <a id="5304" class="Symbol">(</a><a id="5305" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5236" class="Bound">b</a> <a id="5307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5309" class="Symbol">(</a><a id="5310" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5240" class="Bound">b∈</a> <a id="5313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5315" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="5319" class="Symbol">))</a>


    <a id="5328" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5328" class="Function">main-invariance-lemma</a> <a id="5350" class="Symbol">:</a>
        <a id="5360" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="5368" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="5380" class="Symbol">(</a><a id="5381" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5385" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="5393" class="Symbol">)</a> <a id="5395" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5399" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5408" class="Symbol">(</a><a id="5409" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="5414" class="Symbol">(</a><a id="5415" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="5432" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5434" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5439" class="Symbol">)</a> <a id="5441" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="5446" class="Symbol">)</a>
        <a id="5456" class="Comment">---------------------------------------------------------------------------------------------------</a>
      <a id="5562" class="Symbol">→</a> <a id="5564" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="5572" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="5584" class="Symbol">(</a><a id="5585" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5589" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3105" class="Function">utxoDeps&#39;</a><a id="5598" class="Symbol">)</a> <a id="5600" href="Axiom.Set.html#2645" class="Function Operator">≡ᵉ&#39;</a> <a id="5604" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="5613" class="Symbol">(</a><a id="5614" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="5619" class="Symbol">(</a><a id="5620" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="5637" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="5639" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="5644" class="Symbol">)</a> <a id="5646" class="Symbol">(</a><a id="5647" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="5654" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="5657" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="5662" class="Symbol">))</a>

    <a id="5670" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5328" class="Function">main-invariance-lemma</a> <a id="5692" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5692" class="Bound">HYP</a> <a id="5696" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5698" class="Symbol">=</a> <a id="5700" class="Keyword">let</a> <a id="5704" class="Keyword">open</a> <a id="5709" href="Function.Related.Propositional.html#9292" class="Module">R.EquationalReasoning</a> <a id="5731" class="Keyword">in</a>
      <a id="5740" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5742" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5744" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="5752" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="5764" class="Symbol">(</a><a id="5765" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5769" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3105" class="Function">utxoDeps&#39;</a><a id="5778" class="Symbol">)</a>                          <a id="5805" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5808" href="Function.Related.Propositional.html#8306" class="Function">R.SK-sym</a> <a id="5817" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="5826" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5834" class="Symbol">(</a><a id="5835" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="5847" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5849" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5851" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5853" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5855" href="Class.IsSet.html#916" class="Function">dom</a> <a id="5859" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3105" class="Function">utxoDeps&#39;</a><a id="5868" class="Symbol">)</a>                              <a id="5899" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="5902" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="5911" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="5918" href="Axiom.Set.Rel.html#8110" class="Function">∈-resᶜ-dom</a> <a id="5929" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="5937" class="Symbol">(</a><a id="5938" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="5950" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5952" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5954" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5956" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="5958" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="5962" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5964" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="5967" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5967" class="Bound">q</a> <a id="5969" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="5971" class="Symbol">(</a><a id="5972" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="5974" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5976" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5967" class="Bound">q</a><a id="5977" class="Symbol">)</a> <a id="5979" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="5981" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="5989" class="Symbol">)</a>             <a id="6003" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6006" href="Data.Product.Properties.Ext.html#1338" class="Function">×-⇔-swap</a> <a id="6015" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6023" class="Symbol">(</a><a id="6024" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6026" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6028" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="6032" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6034" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="6046" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6048" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6050" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="6053" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6053" class="Bound">q</a> <a id="6055" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="6057" class="Symbol">(</a><a id="6058" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6060" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6062" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6053" class="Bound">q</a><a id="6063" class="Symbol">)</a> <a id="6065" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6067" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="6075" class="Symbol">)</a>             <a id="6089" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6092" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6101" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6108" class="Symbol">(</a><a id="6109" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6118" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6125" href="Axiom.Set.Rel.html#2593" class="Function">dom∈</a><a id="6129" class="Symbol">)</a><a id="6130" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6138" class="Symbol">(</a><a id="6139" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6141" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6143" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="6147" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6149" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="6161" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6163" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6165" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6167" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6169" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6173" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="6181" class="Symbol">)</a>                      <a id="6204" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6207" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6216" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6223" href="Axiom.Set.html#5599" class="Function">∈-filter</a> <a id="6232" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6240" class="Symbol">(</a><a id="6241" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6243" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6245" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="6249" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6251" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6253" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6255" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="6263" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="6275" class="Symbol">(</a><a id="6276" href="Class.IsSet.html#916" class="Function">dom</a> <a id="6280" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2950" class="Function">utxoDeps</a><a id="6288" class="Symbol">))</a>                <a id="6306" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6309" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6318" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6325" class="Symbol">(</a><a id="6326" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5692" class="Bound">HYP</a> <a id="6330" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a><a id="6331" class="Symbol">)</a> <a id="6333" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6341" class="Symbol">(</a><a id="6342" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6344" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6346" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="6350" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6352" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6354" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6356" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6365" class="Symbol">(</a><a id="6366" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="6371" class="Symbol">(</a><a id="6372" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="6389" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6391" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6396" class="Symbol">)</a> <a id="6398" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="6403" class="Symbol">))</a>  <a id="6407" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6410" href="Function.Related.Propositional.html#7228" class="Function">R.K-refl</a> <a id="6419" href="Data.Product.Function.NonDependent.Propositional.html#3190" class="Function Operator">×-cong</a> <a id="6426" class="Symbol">(</a><a id="6427" href="Function.Related.Propositional.html#8306" class="Function">R.SK-sym</a> <a id="6436" href="Axiom.Set.html#5776" class="Function">∈-fromList</a><a id="6446" class="Symbol">)</a><a id="6447" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6455" class="Symbol">(</a><a id="6456" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6458" href="Class.IsSet.html#462" class="Function Operator">∉</a> <a id="6460" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2678" class="Function">ΔΠ&#39;</a> <a id="6464" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="6466" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6468" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="6471" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="6476" class="Symbol">(</a><a id="6477" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="6494" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6496" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6501" class="Symbol">)</a> <a id="6503" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="6508" class="Symbol">)</a>            <a id="6521" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6524" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#4165" class="Function">map-filter-decomp</a> <a id="6542" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6544" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6552" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6554" href="Prelude.html#616" class="Function Operator">∈ˡ</a> <a id="6557" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="6562" class="Symbol">(</a><a id="6563" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="6580" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6582" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6587" class="Symbol">)</a> <a id="6589" class="Symbol">(</a><a id="6590" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="6597" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="6600" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="6605" class="Symbol">)</a>           <a id="6617" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">∼⟨</a> <a id="6620" href="Axiom.Set.html#5776" class="Function">∈-fromList</a> <a id="6631" href="Relation.Binary.Reasoning.Syntax.html#5273" class="Function">⟩</a>
      <a id="6639" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5696" class="Bound">a</a> <a id="6641" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="6643" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="6652" class="Symbol">(</a><a id="6653" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#688" class="Function">map&#39;</a> <a id="6658" class="Symbol">(</a><a id="6659" href="Ledger.Conway.Specification.Certs.html#737" class="InductiveConstructor">GovActionDeposit</a> <a id="6676" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6678" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="6683" class="Symbol">)</a> <a id="6685" class="Symbol">(</a><a id="6686" href="Data.List.Base.html#10389" class="Function">filter</a> <a id="6693" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2905" class="Function">P?</a> <a id="6696" href="Ledger.Conway.Specification.Ledger.html#1065" class="Function">govSt</a><a id="6701" class="Symbol">))</a> <a id="6704" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

    <a id="6711" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6711" class="Function">u0</a> <a id="6714" class="Symbol">=</a> <a id="6716" href="Ledger.Conway.Specification.Epoch.html#13348" class="Function">EPOCH-updates0</a> <a id="6731" class="Symbol">(</a><a id="6732" href="Ledger.Conway.Specification.Ratify.html#3721" class="Field">RatifyStateOf</a> <a id="6746" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a><a id="6749" class="Symbol">)</a> <a id="6751" class="Symbol">(</a><a id="6752" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="6761" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a><a id="6764" class="Symbol">)</a>

    <a id="6771" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="6775" class="Symbol">=</a> <a id="6777" class="Keyword">record</a> <a id="6784" class="Symbol">(</a><a id="6785" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="6794" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2402" class="Bound">eps&#39;</a><a id="6798" class="Symbol">)</a> <a id="6800" class="Symbol">{</a> <a id="6802" href="Ledger.Conway.Specification.Ledger.html#1038" class="Field">utxoSt</a> <a id="6809" class="Symbol">=</a> <a id="6811" href="Ledger.Conway.Specification.Epoch.html#13294" class="Field">EPOCH-Updates0.utxoSt&#39;</a> <a id="6834" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6711" class="Function">u0</a> <a id="6837" class="Symbol">}</a>

    <a id="6844" class="Keyword">open</a> <a id="6849" href="Ledger.Conway.Specification.Ledger.html#979" class="Module">LState</a>
    <a id="6860" class="Keyword">open</a> <a id="6865" href="Ledger.Conway.Specification.Certs.html#4252" class="Module">CertState</a>

    <a id="6880" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="6896" class="Symbol">:</a> <a id="6898" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="6900" href="Ledger.Conway.Specification.Certs.html#548" class="Datatype">DepositPurpose</a>
    <a id="6919" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="6935" class="Symbol">=</a> <a id="6937" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="6942" href="Ledger.Conway.Specification.Certs.html#631" class="InductiveConstructor">PoolDeposit</a> <a id="6954" class="Symbol">((</a><a id="6956" href="Ledger.Conway.Specification.Certs.html#4663" class="Field">PStateOf</a> <a id="6965" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a><a id="6968" class="Symbol">)</a> <a id="6970" class="Symbol">.</a><a id="6971" href="Ledger.Conway.Specification.Certs.html#4085" class="Field">retiring</a> <a id="6980" href="Axiom.Set.Map.html#17191" class="Function Operator">⁻¹</a> <a id="6983" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2409" class="Bound">e</a><a id="6984" class="Symbol">)</a>

    <a id="6991" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6991" class="Function">d≡PoolDepositA</a>
      <a id="7012" class="Symbol">:</a> <a id="7014" class="Symbol">(</a><a id="7015" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7015" class="Bound">d</a> <a id="7017" class="Symbol">:</a> <a id="7019" href="Ledger.Conway.Specification.Certs.html#548" class="Datatype">DepositPurpose</a><a id="7033" class="Symbol">)</a>
      <a id="7041" class="Symbol">→</a> <a id="7043" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7015" class="Bound">d</a> <a id="7045" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7047" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7051" class="Symbol">(</a><a id="7052" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="7063" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="7067" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="7069" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a><a id="7084" class="Symbol">)</a>
      <a id="7092" class="Symbol">→</a> <a id="7094" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="7097" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7097" class="Bound">kh</a> <a id="7100" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="7102" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7015" class="Bound">d</a> <a id="7104" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="7106" href="Ledger.Conway.Specification.Certs.html#631" class="InductiveConstructor">PoolDeposit</a> <a id="7118" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7097" class="Bound">kh</a>
    <a id="7125" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6991" class="Function">d≡PoolDepositA</a> <a id="7140" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7140" class="Bound">d</a> <a id="7142" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7142" class="Bound">d∈res</a> <a id="7148" class="Symbol">=</a>
      <a id="7156" href="Data.Product.Base.html#2362" class="Function">Product.map₂</a> <a id="7169" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="7175" href="Function.Base.html#1993" class="Function Operator">$</a>
        <a id="7185" href="Axiom.Set.Properties.html#1617" class="Function">∈-map⁻&#39;</a> <a id="7193" href="Function.Base.html#1993" class="Function Operator">$</a>       <a id="7201" class="Comment">-- (∃[ a ] d ≡ PoolDeposit a × a ∈ _)</a>
         <a id="7248" href="Axiom.Set.Rel.html#6802" class="Function">res-dom</a> <a id="7256" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7142" class="Bound">d∈res</a>  <a id="7263" class="Comment">-- d ∈ retiredDeposits</a>
      <a id="7292" class="Keyword">where</a> <a id="7298" class="Keyword">import</a> <a id="7305" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="7323" class="Symbol">as</a> <a id="7326" class="Module">Product</a> <a id="7334" class="Keyword">using</a> <a id="7340" class="Symbol">(</a><a id="7341" href="Data.Product.Base.html#2362" class="Function">map₂</a><a id="7345" class="Symbol">)</a>

    <a id="7352" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7352" class="Function">ratifiesSnapMatch</a> <a id="7370" class="Symbol">:</a> <a id="7372" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1513" class="Function">govDepsMatch</a> <a id="7385" class="Symbol">(</a><a id="7386" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="7395" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2108" class="Bound">eps</a><a id="7398" class="Symbol">)</a> <a id="7400" class="Symbol">→</a> <a id="7402" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1513" class="Function">govDepsMatch</a> <a id="7415" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a>
    <a id="7423" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7352" class="Function">ratifiesSnapMatch</a> <a id="7441" class="Symbol">=</a>
       <a id="7450" href="Relation.Binary.Structures.html#1693" class="Function">≡ᵉ.trans</a> <a id="7459" class="Symbol">(</a><a id="7460" href="Axiom.Set.Properties.html#8568" class="Function">filter-cong</a> <a id="7472" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7474" href="Axiom.Set.Rel.html#4450" class="Function">dom-cong</a> <a id="7483" class="Symbol">(</a><a id="7484" href="Axiom.Set.Rel.html#7013" class="Function">res-comp-cong</a> <a id="7498" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7500" href="Relation.Binary.Structures.html#1667" class="Function">≡ᵉ.sym</a> <a id="7507" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#3164" class="Function">ΔΠ&#39;≡ΔΠ</a><a id="7513" class="Symbol">))</a>
       <a id="7523" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7525" href="Function.Bundles.html#4832" class="Field">from</a> <a id="7530" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a> <a id="7537" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7539" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#5328" class="Function">main-invariance-lemma</a> <a id="7561" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7563" href="Function.Bundles.html#4808" class="Field">to</a> <a id="7566" href="Axiom.Set.Properties.html#3111" class="Function">≡ᵉ⇔≡ᵉ&#39;</a>

    <a id="7578" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7578" class="Function">noGADepositIsRetired</a>
      <a id="7605" class="Symbol">:</a> <a id="7607" class="Symbol">(</a><a id="7608" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7608" class="Bound">d</a> <a id="7610" class="Symbol">:</a> <a id="7612" href="Ledger.Conway.Specification.Certs.html#548" class="Datatype">DepositPurpose</a><a id="7626" class="Symbol">)</a>
      <a id="7634" class="Symbol">→</a> <a id="7636" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7608" class="Bound">d</a> <a id="7638" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="7640" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7644" class="Symbol">(</a><a id="7645" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="7656" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="7660" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="7662" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a><a id="7677" class="Symbol">)</a>
      <a id="7685" class="Symbol">→</a> <a id="7687" href="Relation.Nullary.Negation.Core.html#677" class="Function Operator">¬</a> <a id="7689" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="7701" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7608" class="Bound">d</a>
    <a id="7707" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7578" class="Function">noGADepositIsRetired</a> <a id="7728" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7728" class="Bound">d</a> <a id="7730" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7730" class="Bound">d∈res</a> <a id="7736" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7736" class="Bound">dIsGA</a>
     <a id="7747" class="Keyword">rewrite</a> <a id="7755" class="Symbol">(</a><a id="7756" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="7762" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="7764" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6991" class="Function">d≡PoolDepositA</a> <a id="7779" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7728" class="Bound">d</a> <a id="7781" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7730" class="Bound">d∈res</a><a id="7786" class="Symbol">)</a>
     <a id="7793" class="Keyword">with</a> <a id="7798" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7736" class="Bound">dIsGA</a>
    <a id="7808" class="Symbol">...</a> <a id="7812" class="Symbol">|</a> <a id="7814" class="Symbol">()</a>

    <a id="7822" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7822" class="Function">dropRetiredDeposits</a> <a id="7842" class="Symbol">:</a>
      <a id="7850" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="7858" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="7870" class="Symbol">(</a><a id="7871" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7875" class="Symbol">(</a><a id="7876" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="7887" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="7891" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="7893" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="7909" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a><a id="7910" class="Symbol">))</a> <a id="7913" href="Axiom.Set.html#2587" class="Function Operator">≡ᵉ</a>
        <a id="7924" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="7932" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="7944" class="Symbol">(</a><a id="7945" href="Class.IsSet.html#916" class="Function">dom</a> <a id="7949" class="Symbol">(</a><a id="7950" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="7961" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a><a id="7964" class="Symbol">))</a>
    <a id="7971" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7822" class="Function">dropRetiredDeposits</a> <a id="7991" class="Symbol">=</a> <a id="7993" href="Relation.Binary.Reasoning.Syntax.html#1572" class="Function Operator">begin</a>
      <a id="8005" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8013" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="8025" class="Symbol">(</a><a id="8026" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8030" class="Symbol">(</a><a id="8031" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8042" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8046" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="8048" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="8064" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a><a id="8065" class="Symbol">))</a>

        <a id="8077" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8080" href="Axiom.Set.Properties.html#12393" class="Function">∪-identityˡ</a> <a id="8092" class="Symbol">_</a> <a id="8094" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8103" href="abstract-set-theory.FiniteSetTheory.html#530" class="Function">∅ˢ</a> <a id="8106" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8108" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8116" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="8128" class="Symbol">(</a><a id="8129" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8133" class="Symbol">(</a><a id="8134" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8145" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8149" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="8151" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="8167" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a><a id="8168" class="Symbol">))</a>

        <a id="8180" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8183" href="Axiom.Set.Properties.html#11026" class="Function">∪-cong</a>
             <a id="8203" class="Symbol">(</a><a id="8204" href="Axiom.Set.Properties.html#7695" class="Function">filter-∅</a> <a id="8213" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7578" class="Function">noGADepositIsRetired</a><a id="8233" class="Symbol">)</a>
             <a id="8248" class="Symbol">(</a><a id="8249" href="Relation.Binary.Structures.html#1641" class="Field">IsEquivalence.refl</a> <a id="8268" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a><a id="8284" class="Symbol">)</a>
         <a id="8295" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8304" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8312" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="8324" class="Symbol">(</a><a id="8325" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8329" class="Symbol">(</a><a id="8330" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8341" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8345" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="8347" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a><a id="8362" class="Symbol">))</a>
      <a id="8371" href="Axiom.Set.html#8952" class="Function Operator">∪</a>
      <a id="8379" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8387" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="8399" class="Symbol">(</a><a id="8400" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8404" class="Symbol">(</a><a id="8405" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8416" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8420" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="8422" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="8438" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a><a id="8439" class="Symbol">))</a>

        <a id="8451" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8454" href="Axiom.Set.Properties.html#9478" class="Function">filter-hom-∪</a> <a id="8467" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8476" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8484" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a>
        <a id="8504" class="Symbol">(</a><a id="8505" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8509" class="Symbol">(</a><a id="8510" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8521" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8525" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="8527" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a><a id="8542" class="Symbol">)</a>
         <a id="8553" href="Axiom.Set.html#8952" class="Function Operator">∪</a>
         <a id="8564" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8568" class="Symbol">(</a><a id="8569" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8580" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8584" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="8586" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="8602" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a><a id="8603" class="Symbol">)</a>
        <a id="8613" class="Symbol">)</a>

        <a id="8624" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">≈⟨</a> <a id="8627" href="Axiom.Set.Properties.html#8568" class="Function">filter-cong</a> <a id="8639" href="Axiom.Set.Rel.html#3857" class="Function">dom∪</a> <a id="8644" href="Relation.Binary.Reasoning.Syntax.html#7136" class="Function">⟨</a>

      <a id="8653" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8661" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a>
        <a id="8681" class="Symbol">(</a><a id="8682" href="Class.IsSet.html#916" class="Function">dom</a>
          <a id="8696" class="Symbol">((</a><a id="8698" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8709" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8713" href="Axiom.Set.Map.html#12770" class="Function Operator">∣</a> <a id="8715" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a><a id="8730" class="Symbol">)</a> <a id="8732" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
            <a id="8746" href="Axiom.Set.html#8952" class="Function Operator">∪</a>
           <a id="8759" class="Symbol">(</a><a id="8760" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8771" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8775" href="Axiom.Set.Map.html#12840" class="Function Operator">∣</a> <a id="8777" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="8793" href="Axiom.Set.Map.html#12840" class="Function Operator">ᶜ</a><a id="8794" class="Symbol">)</a> <a id="8796" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a>
          <a id="8808" class="Symbol">)</a>
        <a id="8818" class="Symbol">)</a>

        <a id="8829" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="8832" href="Relation.Binary.Structures.html#1641" class="Field">IsEquivalence.refl</a> <a id="8851" href="Axiom.Set.Properties.html#3710" class="Function">≡ᵉ-isEquivalence</a> <a id="8868" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>

      <a id="8877" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="8885" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a>
        <a id="8905" class="Symbol">(</a><a id="8906" href="Axiom.Set.Rel.html#1526" class="Function">Rel.dom</a>
          <a id="8924" class="Symbol">(((</a><a id="8927" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="8938" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="8942" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="8943" class="Symbol">)</a> <a id="8945" href="abstract-set-theory.FiniteSetTheory.html#1266" class="Function Operator">∣ʳ</a> <a id="8948" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a><a id="8963" class="Symbol">)</a>
            <a id="8977" href="Axiom.Set.html#8952" class="Function Operator">∪</a>
           <a id="8990" class="Symbol">((</a><a id="8992" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="9003" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="9007" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9008" class="Symbol">)</a> <a id="9010" href="abstract-set-theory.FiniteSetTheory.html#1280" class="Function Operator">∣ʳ</a> <a id="9013" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6880" class="Function">retiredDeposits</a> <a id="9029" href="abstract-set-theory.FiniteSetTheory.html#1280" class="Function Operator">ᶜ</a><a id="9030" class="Symbol">)</a>
          <a id="9042" class="Symbol">)</a>
        <a id="9052" class="Symbol">)</a>

        <a id="9063" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">≈⟨</a> <a id="9066" href="Axiom.Set.Properties.html#8568" class="Function">filter-cong</a> <a id="9078" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="9080" href="Axiom.Set.Rel.html#4450" class="Function">dom-cong</a> <a id="9089" class="Symbol">(</a><a id="9090" href="Axiom.Set.Rel.html#8226" class="Function">res-ex-∪</a> <a id="9099" href="Class.Decidable.Core.html#680" class="Function">dec¹</a><a id="9103" class="Symbol">)</a> <a id="9105" href="Relation.Binary.Reasoning.Syntax.html#7111" class="Function">⟩</a>

      <a id="9114" href="abstract-set-theory.FiniteSetTheory.html#2906" class="Function">filterˢ</a> <a id="9122" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1302" class="Function">isGADeposit</a> <a id="9134" class="Symbol">(</a><a id="9135" href="Class.IsSet.html#916" class="Function">dom</a> <a id="9139" class="Symbol">(</a><a id="9140" href="Ledger.Conway.Specification.Certs.html#899" class="Field">DepositsOf</a> <a id="9151" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a><a id="9154" class="Symbol">))</a>
      <a id="9163" href="Relation.Binary.Reasoning.Syntax.html#12345" class="Function Operator">∎</a>

      <a id="9172" class="Keyword">where</a>
        <a id="9186" class="Keyword">open</a> <a id="9191" href="Relation.Binary.Reasoning.Setoid.html" class="Module">SetoidReasoning</a> <a id="9207" class="Symbol">(</a><a id="9208" href="Axiom.Set.Properties.html#3967" class="Function">≡ᵉ-Setoid</a> <a id="9218" class="Symbol">{</a><a id="9219" class="Argument">A</a> <a id="9221" class="Symbol">=</a> <a id="9223" href="Ledger.Conway.Specification.Certs.html#548" class="Datatype">DepositPurpose</a><a id="9237" class="Symbol">})</a>
        <a id="9248" class="Keyword">open</a> <a id="9253" class="Keyword">import</a> <a id="9260" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="9276" class="Keyword">using</a> <a id="9282" class="Symbol">(</a><a id="9283" href="Relation.Binary.Structures.html#1595" class="Record">IsEquivalence</a><a id="9296" class="Symbol">)</a>
        <a id="9306" class="Keyword">import</a> <a id="9313" href="Axiom.Set.Rel.html" class="Module">Axiom.Set.Rel</a> <a id="9327" href="Axiom.Set.html#10751" class="Function">th</a> <a id="9330" class="Symbol">as</a> <a id="9333" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9333" class="Module">Rel</a>

    <a id="9342" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9342" class="Function">poolReapMatch</a> <a id="9356" class="Symbol">:</a> <a id="9358" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1513" class="Function">govDepsMatch</a> <a id="9371" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#6771" class="Function">ls₁</a> <a id="9375" class="Symbol">→</a> <a id="9377" href="Ledger.Conway.Specification.Ledger.Properties.Base.html#1513" class="Function">govDepsMatch</a> <a id="9390" class="Symbol">(</a><a id="9391" href="Ledger.Conway.Specification.Ledger.html#1173" class="Field">LStateOf</a> <a id="9400" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#2402" class="Bound">eps&#39;</a><a id="9404" class="Symbol">)</a>
    <a id="9410" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#9342" class="Function">poolReapMatch</a> <a id="9424" class="Symbol">=</a> <a id="9426" href="Relation.Binary.Structures.html#1693" class="Function">≡ᵉ.trans</a> <a id="9435" href="Ledger.Conway.Specification.Epoch.Properties.GovDepsMatch.html#7822" class="Function">dropRetiredDeposits</a>


</pre></body></html>