<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Ledger.Dijkstra.Specification.Transaction</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css"><link rel="stylesheet" href="Agda.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js"></script><script src="AgdaKaTeX.js" defer=""></script></head><body><pre class="Agda">
<a id="2" class="Symbol">{-#</a> <a id="6" class="Keyword">OPTIONS</a> <a id="14" class="Pragma">--safe</a> <a id="21" class="Symbol">#-}</a>
<a id="25" class="Keyword">module</a> <a id="32" href="Ledger.Dijkstra.Specification.Transaction.html" class="Module">Ledger.Dijkstra.Specification.Transaction</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">import</a> <a id="88" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="104" class="Symbol">as</a> <a id="107" class="Module">M</a>

<a id="110" class="Keyword">open</a> <a id="115" class="Keyword">import</a> <a id="122" href="Ledger.Prelude.html" class="Module">Ledger.Prelude</a> <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="abstract-set-theory.FiniteSetTheory.html#2895" class="Function">filterᵐ</a> <a id="155" class="Symbol">to</a> <a id="158" class="Function">filter</a><a id="164" class="Symbol">)</a>

<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Ledger.Dijkstra.Specification.Crypto.html" class="Module">Ledger.Dijkstra.Specification.Crypto</a>
<a id="216" class="Keyword">open</a> <a id="221" class="Keyword">import</a> <a id="228" href="Ledger.Dijkstra.Specification.Epoch.html" class="Module">Ledger.Dijkstra.Specification.Epoch</a>
<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Ledger.Dijkstra.Specification.Gov.Base.html" class="Module">Ledger.Dijkstra.Specification.Gov.Base</a>

<a id="316" class="Keyword">import</a> <a id="323" href="Ledger.Dijkstra.Specification.Address.html" class="Module">Ledger.Dijkstra.Specification.Address</a>
<a id="361" class="Keyword">import</a> <a id="368" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a>
<a id="404" class="Keyword">import</a> <a id="411" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a>
<a id="453" class="Keyword">import</a> <a id="460" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a>
<a id="498" class="Keyword">import</a> <a id="505" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a>
<a id="542" class="Keyword">import</a> <a id="549" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a>

<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Tactic.Derive.DecEq.html" class="Module">Tactic.Derive.DecEq</a>
<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="669" class="Keyword">using</a> <a id="675" class="Symbol">(</a><a id="676" href="Relation.Nullary.Decidable.Core.html#5031" class="Function Operator">⌊_⌋</a><a id="679" class="Symbol">)</a>


<a id="683" class="Keyword">data</a> <a id="TxLevel"></a><a id="688" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a> <a id="696" class="Symbol">:</a> <a id="698" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="703" class="Keyword">where</a>
  <a id="TxLevel.TxLevelTop"></a><a id="711" href="Ledger.Dijkstra.Specification.Transaction.html#711" class="InductiveConstructor">TxLevelTop</a> <a id="TxLevel.TxLevelSub"></a><a id="722" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a> <a id="733" class="Symbol">:</a> <a id="735" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a>


<a id="InTopLevel"></a><a id="745" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="756" class="Symbol">:</a> <a id="758" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a> <a id="766" class="Symbol">→</a> <a id="768" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="773" class="Symbol">→</a> <a id="775" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="780" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="791" href="Ledger.Dijkstra.Specification.Transaction.html#711" class="InductiveConstructor">TxLevelTop</a> <a id="802" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="Bound">X</a> <a id="804" class="Symbol">=</a> <a id="806" href="Ledger.Dijkstra.Specification.Transaction.html#802" class="Bound">X</a>
<a id="808" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="819" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a> <a id="830" class="Symbol">_</a> <a id="832" class="Symbol">=</a> <a id="834" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="InSubLevel"></a><a id="837" href="Ledger.Dijkstra.Specification.Transaction.html#837" class="Function">InSubLevel</a> <a id="848" class="Symbol">:</a> <a id="850" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a> <a id="858" class="Symbol">→</a> <a id="860" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="865" class="Symbol">→</a> <a id="867" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="872" href="Ledger.Dijkstra.Specification.Transaction.html#837" class="Function">InSubLevel</a> <a id="883" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a> <a id="894" href="Ledger.Dijkstra.Specification.Transaction.html#894" class="Bound">X</a> <a id="896" class="Symbol">=</a> <a id="898" href="Ledger.Dijkstra.Specification.Transaction.html#894" class="Bound">X</a>
<a id="900" href="Ledger.Dijkstra.Specification.Transaction.html#837" class="Function">InSubLevel</a> <a id="911" href="Ledger.Dijkstra.Specification.Transaction.html#711" class="InductiveConstructor">TxLevelTop</a> <a id="922" class="Symbol">_</a> <a id="924" class="Symbol">=</a> <a id="926" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="930" class="Keyword">unquoteDecl</a> <a id="DecEq-TxLevel"></a><a id="942" href="Ledger.Dijkstra.Specification.Transaction.html#942" class="Function">DecEq-TxLevel</a> <a id="956" class="Symbol">=</a> <a id="958" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="971" class="Symbol">((</a><a id="973" class="Keyword">quote</a> <a id="979" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a> <a id="987" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="989" href="Ledger.Dijkstra.Specification.Transaction.html#942" class="Function">DecEq-TxLevel</a><a id="1002" class="Symbol">)</a> <a id="1004" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1006" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1008" class="Symbol">)</a>

<a id="1011" class="Keyword">private</a>
  <a id="1021" class="Keyword">variable</a>
    <a id="1034" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a>

<a id="1053" class="Keyword">data</a> <a id="Tag"></a><a id="1058" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Datatype">Tag</a> <a id="1062" class="Symbol">:</a> <a id="1064" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a> <a id="1072" class="Symbol">→</a> <a id="1074" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="1079" class="Keyword">where</a>
  <a id="Tag.Spend"></a><a id="1087" href="Ledger.Dijkstra.Specification.Transaction.html#1087" class="InductiveConstructor">Spend</a> <a id="Tag.Mint"></a><a id="1093" href="Ledger.Dijkstra.Specification.Transaction.html#1093" class="InductiveConstructor">Mint</a> <a id="Tag.Cert"></a><a id="1098" href="Ledger.Dijkstra.Specification.Transaction.html#1098" class="InductiveConstructor">Cert</a> <a id="Tag.Reward"></a><a id="1103" href="Ledger.Dijkstra.Specification.Transaction.html#1103" class="InductiveConstructor">Reward</a> <a id="Tag.Vote"></a><a id="1110" href="Ledger.Dijkstra.Specification.Transaction.html#1110" class="InductiveConstructor">Vote</a> <a id="Tag.Propose"></a><a id="1115" href="Ledger.Dijkstra.Specification.Transaction.html#1115" class="InductiveConstructor">Propose</a> <a id="Tag.Guard"></a><a id="1123" href="Ledger.Dijkstra.Specification.Transaction.html#1123" class="InductiveConstructor">Guard</a> <a id="1129" class="Symbol">:</a> <a id="1131" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Datatype">Tag</a> <a id="1135" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a>
  <a id="Tag.SubGuard"></a><a id="1145" href="Ledger.Dijkstra.Specification.Transaction.html#1145" class="InductiveConstructor">SubGuard</a> <a id="1154" class="Symbol">:</a> <a id="1156" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Datatype">Tag</a> <a id="1160" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a>

<a id="1172" class="Keyword">unquoteDecl</a> <a id="DecEq-Tag"></a><a id="1184" href="Ledger.Dijkstra.Specification.Transaction.html#1184" class="Function">DecEq-Tag</a> <a id="1194" class="Symbol">=</a> <a id="1196" href="Tactic.Derive.DecEq.html#5150" class="Function">derive-DecEq</a> <a id="1209" class="Symbol">((</a><a id="1211" class="Keyword">quote</a> <a id="1217" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Datatype">Tag</a> <a id="1221" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1223" href="Ledger.Dijkstra.Specification.Transaction.html#1184" class="Function">DecEq-Tag</a><a id="1232" class="Symbol">)</a> <a id="1234" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1236" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1238" class="Symbol">)</a>


<a id="1242" class="Keyword">record</a> <a id="TransactionStructure"></a><a id="1249" href="Ledger.Dijkstra.Specification.Transaction.html#1249" class="Record">TransactionStructure</a> <a id="1270" class="Symbol">:</a> <a id="1272" href="Agda.Primitive.html#388" class="Primitive">Type₁</a> <a id="1278" class="Keyword">where</a>
  <a id="1286" class="Keyword">field</a>
    <a id="TransactionStructure.Ix"></a><a id="1296" href="Ledger.Dijkstra.Specification.Transaction.html#1296" class="Field">Ix</a> <a id="TransactionStructure.TxId"></a><a id="1299" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a> <a id="TransactionStructure.AuxiliaryData"></a><a id="1304" href="Ledger.Dijkstra.Specification.Transaction.html#1304" class="Field">AuxiliaryData</a> <a id="1318" class="Symbol">:</a> <a id="1320" href="Agda.Primitive.html#388" class="Primitive">Type</a>

    <a id="1330" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-Ix"></a><a id="1332" href="Ledger.Dijkstra.Specification.Transaction.html#1332" class="Field">DecEq-Ix</a>   <a id="1343" class="Symbol">⦄</a> <a id="1345" class="Symbol">:</a> <a id="1347" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1353" href="Ledger.Dijkstra.Specification.Transaction.html#1296" class="Field">Ix</a>
    <a id="1360" class="Symbol">⦃</a> <a id="TransactionStructure.DecEq-TxId"></a><a id="1362" href="Ledger.Dijkstra.Specification.Transaction.html#1362" class="Field">DecEq-TxId</a> <a id="1373" class="Symbol">⦄</a> <a id="1375" class="Symbol">:</a> <a id="1377" href="Class.DecEq.Core.html#126" class="Record">DecEq</a> <a id="1383" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a>
    <a id="TransactionStructure.adHashingScheme"></a><a id="1392" href="Ledger.Dijkstra.Specification.Transaction.html#1392" class="Field">adHashingScheme</a> <a id="1408" class="Symbol">:</a> <a id="1410" href="Ledger.Core.Specification.Crypto.html#166" class="Record">isHashableSet</a> <a id="1424" href="Ledger.Dijkstra.Specification.Transaction.html#1304" class="Field">AuxiliaryData</a>
  <a id="1440" class="Keyword">open</a> <a id="1445" href="Ledger.Core.Specification.Crypto.html#166" class="Module">isHashableSet</a> <a id="1459" href="Ledger.Dijkstra.Specification.Transaction.html#1392" class="Field">adHashingScheme</a> <a id="1475" class="Keyword">renaming</a> <a id="1484" class="Symbol">(</a><a id="1485" href="Ledger.Core.Specification.Crypto.html#243" class="Field">THash</a> <a id="1491" class="Symbol">to</a> <a id="1494" class="Field">ADHash</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Keyword">public</a>

  <a id="1512" class="Keyword">field</a> <a id="TransactionStructure.globalConstants"></a><a id="1518" href="Ledger.Dijkstra.Specification.Transaction.html#1518" class="Field">globalConstants</a> <a id="1534" class="Symbol">:</a> <a id="1536" class="Symbol">_</a>
  <a id="1540" class="Keyword">open</a> <a id="1545" href="Ledger.Core.Specification.Epoch.html#2118" class="Module">GlobalConstants</a> <a id="1561" href="Ledger.Dijkstra.Specification.Transaction.html#1518" class="Field">globalConstants</a> <a id="1577" class="Keyword">public</a>

  <a id="1587" class="Keyword">field</a> <a id="TransactionStructure.crypto"></a><a id="1593" href="Ledger.Dijkstra.Specification.Transaction.html#1593" class="Field">crypto</a> <a id="1600" class="Symbol">:</a> <a id="1602" class="Symbol">_</a>
  <a id="1606" class="Keyword">open</a> <a id="1611" href="Ledger.Core.Specification.Crypto.html#1110" class="Module">CryptoStructure</a> <a id="1627" href="Ledger.Dijkstra.Specification.Transaction.html#1593" class="Field">crypto</a> <a id="1634" class="Keyword">public</a>
  <a id="1643" class="Keyword">open</a> <a id="1648" href="Ledger.Dijkstra.Specification.TokenAlgebra.Base.html" class="Module">Ledger.Dijkstra.Specification.TokenAlgebra.Base</a> <a id="1696" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1707" class="Keyword">public</a>
  <a id="1716" class="Keyword">open</a> <a id="1721" href="Ledger.Dijkstra.Specification.Address.html" class="Module">Ledger.Dijkstra.Specification.Address</a> <a id="1759" href="Ledger.Core.Specification.Epoch.html#2157" class="Function">Network</a> <a id="1767" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="1775" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="1786" class="Symbol">⦃</a> <a id="1788" href="Function.Base.html#4755" class="Function">it</a> <a id="1791" class="Symbol">⦄</a> <a id="1793" class="Symbol">⦃</a> <a id="1795" href="Function.Base.html#4755" class="Function">it</a> <a id="1798" class="Symbol">⦄</a> <a id="1800" class="Symbol">⦃</a> <a id="1802" href="Function.Base.html#4755" class="Function">it</a> <a id="1805" class="Symbol">⦄</a> <a id="1807" class="Keyword">public</a>

  <a id="1817" class="Keyword">field</a> <a id="TransactionStructure.epochStructure"></a><a id="1823" href="Ledger.Dijkstra.Specification.Transaction.html#1823" class="Field">epochStructure</a> <a id="1838" class="Symbol">:</a> <a id="1840" class="Symbol">_</a>
  <a id="1844" class="Keyword">open</a> <a id="1849" href="Ledger.Core.Specification.Epoch.html#530" class="Module">EpochStructure</a> <a id="1864" href="Ledger.Dijkstra.Specification.Transaction.html#1823" class="Field">epochStructure</a> <a id="1879" class="Keyword">public</a>
  <a id="1888" class="Keyword">open</a> <a id="1893" href="Ledger.Dijkstra.Specification.Script.html" class="Module">Ledger.Dijkstra.Specification.Script</a> <a id="1930" href="Ledger.Dijkstra.Specification.Transaction.html#1593" class="Field">crypto</a> <a id="1937" href="Ledger.Dijkstra.Specification.Transaction.html#1823" class="Field">epochStructure</a> <a id="1952" class="Keyword">public</a>

  <a id="1962" class="Keyword">field</a> <a id="TransactionStructure.scriptStructure"></a><a id="1968" href="Ledger.Dijkstra.Specification.Transaction.html#1968" class="Field">scriptStructure</a> <a id="1984" class="Symbol">:</a> <a id="1986" class="Symbol">_</a>
  <a id="1990" class="Keyword">open</a> <a id="1995" href="Ledger.Conway.Specification.Script.Base.html#2048" class="Module">ScriptStructure</a> <a id="2011" href="Ledger.Dijkstra.Specification.Transaction.html#1968" class="Field">scriptStructure</a> <a id="2027" class="Keyword">public</a>
  <a id="2036" class="Keyword">open</a> <a id="2041" href="Ledger.Dijkstra.Specification.PParams.html" class="Module">Ledger.Dijkstra.Specification.PParams</a> <a id="2079" href="Ledger.Dijkstra.Specification.Transaction.html#1593" class="Field">crypto</a> <a id="2086" href="Ledger.Dijkstra.Specification.Transaction.html#1823" class="Field">epochStructure</a> <a id="2101" href="Ledger.Dijkstra.Specification.Transaction.html#1968" class="Field">scriptStructure</a> <a id="2117" class="Keyword">public</a>

  <a id="2127" class="Keyword">field</a> <a id="TransactionStructure.govParams"></a><a id="2133" href="Ledger.Dijkstra.Specification.Transaction.html#2133" class="Field">govParams</a> <a id="2143" class="Symbol">:</a> <a id="2145" class="Symbol">_</a>
  <a id="2149" class="Keyword">open</a> <a id="2154" href="Ledger.Conway.Specification.PParams.html#14009" class="Module">GovParams</a> <a id="2164" href="Ledger.Dijkstra.Specification.Transaction.html#2133" class="Field">govParams</a> <a id="2174" class="Keyword">public</a>

  <a id="2184" class="Keyword">field</a> <a id="TransactionStructure.tokenAlgebra"></a><a id="2190" href="Ledger.Dijkstra.Specification.Transaction.html#2190" class="Field">tokenAlgebra</a> <a id="2203" class="Symbol">:</a> <a id="2205" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#479" class="Record">TokenAlgebra</a>
  <a id="2220" class="Keyword">open</a> <a id="2225" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#479" class="Module">TokenAlgebra</a> <a id="2238" href="Ledger.Dijkstra.Specification.Transaction.html#2190" class="Field">tokenAlgebra</a> <a id="2251" class="Keyword">public</a>

  <a id="2261" class="Keyword">field</a> <a id="TransactionStructure.txidBytes"></a><a id="2267" href="Ledger.Dijkstra.Specification.Transaction.html#2267" class="Field">txidBytes</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a> <a id="2284" class="Symbol">→</a> <a id="2286" href="Ledger.Core.Specification.Crypto.html#658" class="Function">Ser</a>

  <a id="TransactionStructure.govStructure"></a><a id="2293" href="Ledger.Dijkstra.Specification.Transaction.html#2293" class="Function">govStructure</a> <a id="2306" class="Symbol">:</a> <a id="2308" href="Ledger.Conway.Specification.Gov.Base.html#325" class="Record">GovStructure</a>
  <a id="2323" href="Ledger.Dijkstra.Specification.Transaction.html#2293" class="Function">govStructure</a> <a id="2336" class="Symbol">=</a> <a id="2338" class="Keyword">record</a>
    <a id="2349" class="Comment">-- TODO: figure out what to do with the hash</a>
    <a id="2398" class="Symbol">{</a> <a id="2400" href="Ledger.Conway.Specification.Gov.Base.html#360" class="Field">TxId</a> <a id="2405" class="Symbol">=</a> <a id="2407" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a><a id="2411" class="Symbol">;</a> <a id="2413" href="Ledger.Conway.Specification.Gov.Base.html#365" class="Field">DocHash</a> <a id="2421" class="Symbol">=</a> <a id="2423" href="Ledger.Dijkstra.Specification.Transaction.html#1494" class="Function">ADHash</a>
    <a id="2434" class="Symbol">;</a> <a id="2436" href="Ledger.Conway.Specification.Gov.Base.html#425" class="Field">cryptoStructure</a> <a id="2452" class="Symbol">=</a> <a id="2454" href="Ledger.Dijkstra.Specification.Transaction.html#1593" class="Field">crypto</a>
    <a id="2465" class="Symbol">;</a> <a id="2467" href="Ledger.Conway.Specification.Gov.Base.html#500" class="Field">epochStructure</a> <a id="2482" class="Symbol">=</a> <a id="2484" href="Ledger.Dijkstra.Specification.Transaction.html#1823" class="Field">epochStructure</a>
    <a id="2503" class="Symbol">;</a> <a id="2505" href="Ledger.Conway.Specification.Gov.Base.html#572" class="Field">scriptStructure</a> <a id="2521" class="Symbol">=</a> <a id="2523" href="Ledger.Dijkstra.Specification.Transaction.html#1968" class="Field">scriptStructure</a>
    <a id="2543" class="Symbol">;</a> <a id="2545" href="Ledger.Conway.Specification.Gov.Base.html#790" class="Field">govParams</a> <a id="2555" class="Symbol">=</a> <a id="2557" href="Ledger.Dijkstra.Specification.Transaction.html#2133" class="Field">govParams</a>
    <a id="2571" class="Symbol">;</a> <a id="2573" href="Ledger.Conway.Specification.Gov.Base.html#855" class="Field">globalConstants</a> <a id="2589" class="Symbol">=</a> <a id="2591" href="Ledger.Dijkstra.Specification.Transaction.html#1518" class="Field">globalConstants</a>
    <a id="2611" class="Symbol">}</a>

  <a id="2616" class="Keyword">module</a> <a id="TransactionStructure.GovernanceActions"></a><a id="2623" href="Ledger.Dijkstra.Specification.Transaction.html#2623" class="Module">GovernanceActions</a> <a id="2641" class="Symbol">=</a> <a id="2643" href="Ledger.Dijkstra.Specification.Gov.Actions.html" class="Module">Ledger.Dijkstra.Specification.Gov.Actions</a> <a id="2685" href="Ledger.Dijkstra.Specification.Transaction.html#2293" class="Function">govStructure</a>
  <a id="2700" class="Keyword">open</a> <a id="2705" href="Ledger.Dijkstra.Specification.Transaction.html#2623" class="Module">GovernanceActions</a> <a id="2723" class="Keyword">hiding</a> <a id="2730" class="Symbol">(</a><a id="2731" href="Ledger.Conway.Specification.Gov.Actions.html#3219" class="Datatype">Vote</a><a id="2735" class="Symbol">;</a> <a id="2737" href="Ledger.Conway.Specification.Gov.Actions.html#3239" class="InductiveConstructor">yes</a><a id="2740" class="Symbol">;</a> <a id="2742" href="Ledger.Conway.Specification.Gov.Actions.html#3243" class="InductiveConstructor">no</a><a id="2744" class="Symbol">;</a> <a id="2746" href="Ledger.Conway.Specification.Gov.Actions.html#3246" class="InductiveConstructor">abstain</a><a id="2753" class="Symbol">)</a> <a id="2755" class="Keyword">public</a>

  <a id="2765" class="Keyword">open</a> <a id="2770" class="Keyword">import</a> <a id="2777" href="Ledger.Dijkstra.Specification.Certs.html" class="Module">Ledger.Dijkstra.Specification.Certs</a> <a id="2813" href="Ledger.Dijkstra.Specification.Transaction.html#2293" class="Function">govStructure</a>

  <a id="TransactionStructure.TxIn"></a><a id="2829" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a> <a id="2834" class="Symbol">:</a> <a id="2836" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2843" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a> <a id="2848" class="Symbol">=</a> <a id="2850" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a> <a id="2855" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2857" href="Ledger.Dijkstra.Specification.Transaction.html#1296" class="Field">Ix</a>

  <a id="TransactionStructure.TxOut"></a><a id="2863" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a> <a id="2869" class="Symbol">:</a> <a id="2871" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2878" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a> <a id="2884" class="Symbol">=</a> <a id="2886" href="Ledger.Core.Specification.Address.html#2489" class="Function">Addr</a> <a id="2891" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2893" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a> <a id="2899" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2901" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2907" class="Symbol">(</a><a id="2908" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a> <a id="2914" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2916" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a><a id="2924" class="Symbol">)</a> <a id="2926" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2928" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2934" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>

  <a id="TransactionStructure.UTxO"></a><a id="2944" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="2949" class="Symbol">:</a> <a id="2951" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="2958" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="2963" class="Symbol">=</a> <a id="2965" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a> <a id="2970" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="2972" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a>

  <a id="TransactionStructure.Withdrawals"></a><a id="2981" href="Ledger.Dijkstra.Specification.Transaction.html#2981" class="Function">Withdrawals</a> <a id="2993" class="Symbol">:</a> <a id="2995" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3002" href="Ledger.Dijkstra.Specification.Transaction.html#2981" class="Function">Withdrawals</a> <a id="3014" class="Symbol">=</a> <a id="3016" href="Ledger.Dijkstra.Specification.Address.html#329" class="Record">RewardAddress</a> <a id="3030" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3032" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>

  <a id="3040" class="Comment">-- Datums : Type</a>
  <a id="3059" class="Comment">-- Datums = DataHash ⇀ Datum</a>

  <a id="TransactionStructure.RedeemerPtr"></a><a id="3091" href="Ledger.Dijkstra.Specification.Transaction.html#3091" class="Function">RedeemerPtr</a> <a id="3103" class="Symbol">:</a> <a id="3105" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a> <a id="3113" class="Symbol">→</a> <a id="3115" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3122" href="Ledger.Dijkstra.Specification.Transaction.html#3091" class="Function">RedeemerPtr</a> <a id="3134" href="Ledger.Dijkstra.Specification.Transaction.html#3134" class="Bound">txLevel</a>  <a id="3143" class="Symbol">=</a> <a id="3145" href="Ledger.Dijkstra.Specification.Transaction.html#1058" class="Datatype">Tag</a> <a id="3149" href="Ledger.Dijkstra.Specification.Transaction.html#3134" class="Bound">txLevel</a> <a id="3157" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3159" href="Ledger.Dijkstra.Specification.Transaction.html#1296" class="Field">Ix</a>

  <a id="TransactionStructure.ProposedPPUpdates"></a><a id="3165" href="Ledger.Dijkstra.Specification.Transaction.html#3165" class="Function">ProposedPPUpdates</a> <a id="3183" class="Symbol">:</a> <a id="3185" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3192" href="Ledger.Dijkstra.Specification.Transaction.html#3165" class="Function">ProposedPPUpdates</a> <a id="3210" class="Symbol">=</a> <a id="3212" href="Ledger.Core.Specification.Crypto.html#1386" class="Function">KeyHash</a> <a id="3220" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3222" href="Ledger.Conway.Specification.PParams.html#14107" class="Function">PParamsUpdate</a>

  <a id="TransactionStructure.Update"></a><a id="3239" href="Ledger.Dijkstra.Specification.Transaction.html#3239" class="Function">Update</a> <a id="3246" class="Symbol">:</a> <a id="3248" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="3255" href="Ledger.Dijkstra.Specification.Transaction.html#3239" class="Function">Update</a> <a id="3262" class="Symbol">=</a> <a id="3264" href="Ledger.Dijkstra.Specification.Transaction.html#3165" class="Function">ProposedPPUpdates</a> <a id="3282" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3284" href="Ledger.Core.Specification.Epoch.html#598" class="Function">Epoch</a>

  <a id="3293" class="Keyword">record</a> <a id="TransactionStructure.HasUTxO"></a><a id="3300" href="Ledger.Dijkstra.Specification.Transaction.html#3300" class="Record">HasUTxO</a> <a id="3308" class="Symbol">{</a><a id="3309" href="Ledger.Dijkstra.Specification.Transaction.html#3309" class="Bound">a</a><a id="3310" class="Symbol">}</a> <a id="3312" class="Symbol">(</a><a id="3313" href="Ledger.Dijkstra.Specification.Transaction.html#3313" class="Bound">A</a> <a id="3315" class="Symbol">:</a> <a id="3317" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3322" href="Ledger.Dijkstra.Specification.Transaction.html#3309" class="Bound">a</a><a id="3323" class="Symbol">)</a> <a id="3325" class="Symbol">:</a> <a id="3327" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3332" href="Ledger.Dijkstra.Specification.Transaction.html#3309" class="Bound">a</a> <a id="3334" class="Keyword">where</a>
    <a id="3344" class="Keyword">field</a> <a id="3350" href="Ledger.Dijkstra.Specification.Transaction.html#3350" class="Field">UTxOOf</a> <a id="3357" class="Symbol">:</a> <a id="3359" href="Ledger.Dijkstra.Specification.Transaction.html#3313" class="Bound">A</a> <a id="3361" class="Symbol">→</a> <a id="3363" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a>
  <a id="3370" class="Keyword">open</a> <a id="3375" href="Ledger.Dijkstra.Specification.Transaction.html#3300" class="Module">HasUTxO</a> <a id="3383" class="Symbol">⦃...⦄</a> <a id="3389" class="Keyword">public</a>


  <a id="3400" class="Keyword">mutual</a>
    <a id="3411" class="Keyword">record</a> <a id="TransactionStructure.Tx"></a><a id="3418" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="3421" class="Symbol">(</a><a id="3422" href="Ledger.Dijkstra.Specification.Transaction.html#3422" class="Bound">txLevel</a> <a id="3430" class="Symbol">:</a> <a id="3432" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a><a id="3439" class="Symbol">)</a> <a id="3441" class="Symbol">:</a> <a id="3443" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3448" class="Keyword">where</a>
      <a id="3460" class="Keyword">inductive</a>
      <a id="3476" class="Keyword">field</a>
        <a id="3490" href="Ledger.Dijkstra.Specification.Transaction.html#3490" class="Field">txBody</a>       <a id="3503" class="Symbol">:</a> <a id="3505" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="3512" href="Ledger.Dijkstra.Specification.Transaction.html#3422" class="Bound">txLevel</a>
        <a id="3528" href="Ledger.Dijkstra.Specification.Transaction.html#3528" class="Field">txWitnesses</a>  <a id="3541" class="Symbol">:</a> <a id="3543" href="Ledger.Dijkstra.Specification.Transaction.html#4864" class="Record">TxWitnesses</a> <a id="3555" href="Ledger.Dijkstra.Specification.Transaction.html#3422" class="Bound">txLevel</a>
        <a id="3571" href="Ledger.Dijkstra.Specification.Transaction.html#3571" class="Field">isValid</a>      <a id="3584" class="Symbol">:</a> <a id="3586" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="3597" href="Ledger.Dijkstra.Specification.Transaction.html#3422" class="Bound">txLevel</a> <a id="3605" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
        <a id="3618" href="Ledger.Dijkstra.Specification.Transaction.html#3618" class="Field">txAuxData</a>    <a id="3631" class="Symbol">:</a> <a id="3633" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3639" href="Ledger.Dijkstra.Specification.Transaction.html#1304" class="Field">AuxiliaryData</a>

    <a id="3658" class="Keyword">record</a> <a id="TransactionStructure.TxBody"></a><a id="3665" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="3672" class="Symbol">(</a><a id="3673" href="Ledger.Dijkstra.Specification.Transaction.html#3673" class="Bound">txLevel</a> <a id="3681" class="Symbol">:</a> <a id="3683" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a><a id="3690" class="Symbol">)</a> <a id="3692" class="Symbol">:</a> <a id="3694" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="3699" class="Keyword">where</a>
      <a id="3711" class="Keyword">inductive</a>
      <a id="3727" class="Keyword">field</a>
        <a id="3741" href="Ledger.Dijkstra.Specification.Transaction.html#3741" class="Field">txIns</a>                <a id="3762" class="Symbol">:</a> <a id="3764" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3766" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a>
        <a id="3779" href="Ledger.Dijkstra.Specification.Transaction.html#3779" class="Field">refInputs</a>            <a id="3800" class="Symbol">:</a> <a id="3802" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3804" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a>
        <a id="3817" href="Ledger.Dijkstra.Specification.Transaction.html#3817" class="Field">collateralInputs</a>     <a id="3838" class="Symbol">:</a> <a id="3840" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="3851" href="Ledger.Dijkstra.Specification.Transaction.html#3673" class="Bound">txLevel</a> <a id="3859" class="Symbol">(</a><a id="3860" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="3862" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a><a id="3866" class="Symbol">)</a> <a id="3868" class="Comment">-- only in top-level tx</a>
        <a id="3900" href="Ledger.Dijkstra.Specification.Transaction.html#3900" class="Field">txOuts</a>               <a id="3921" class="Symbol">:</a> <a id="3923" href="Ledger.Dijkstra.Specification.Transaction.html#1296" class="Field">Ix</a> <a id="3926" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="3928" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a>
        <a id="3942" href="Ledger.Dijkstra.Specification.Transaction.html#3942" class="Field">txId</a>                 <a id="3963" class="Symbol">:</a> <a id="3965" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a>
        <a id="3978" href="Ledger.Dijkstra.Specification.Transaction.html#3978" class="Field">txCerts</a>              <a id="3999" class="Symbol">:</a> <a id="4001" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4006" href="Ledger.Conway.Specification.Certs.html#2238" class="Datatype">DCert</a>
        <a id="4020" href="Ledger.Dijkstra.Specification.Transaction.html#4020" class="Field">txFee</a>                <a id="4041" class="Symbol">:</a> <a id="4043" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="4054" href="Ledger.Dijkstra.Specification.Transaction.html#3673" class="Bound">txLevel</a> <a id="4062" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a> <a id="4067" class="Comment">-- only in top-level tx</a>
        <a id="4099" href="Ledger.Dijkstra.Specification.Transaction.html#4099" class="Field">txWithdrawals</a>        <a id="4120" class="Symbol">:</a> <a id="4122" href="Ledger.Dijkstra.Specification.Transaction.html#2981" class="Function">Withdrawals</a>
        <a id="4142" href="Ledger.Dijkstra.Specification.Transaction.html#4142" class="Field">txVldt</a>               <a id="4163" class="Symbol">:</a> <a id="4165" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4171" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a> <a id="4176" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4178" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4184" href="Ledger.Core.Specification.Epoch.html#674" class="Function">Slot</a>
        <a id="4197" href="Ledger.Dijkstra.Specification.Transaction.html#4197" class="Field">txADhash</a>             <a id="4218" class="Symbol">:</a> <a id="4220" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4226" href="Ledger.Dijkstra.Specification.Transaction.html#1494" class="Function">ADHash</a>
        <a id="4241" href="Ledger.Dijkstra.Specification.Transaction.html#4241" class="Field">txDonation</a>           <a id="4262" class="Symbol">:</a> <a id="4264" href="Ledger.Prelude.Base.html#176" class="Function">Donations</a>
        <a id="4282" href="Ledger.Dijkstra.Specification.Transaction.html#4282" class="Field">txGovVotes</a>           <a id="4303" class="Symbol">:</a> <a id="4305" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4310" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a>
        <a id="4326" href="Ledger.Dijkstra.Specification.Transaction.html#4326" class="Field">txGovProposals</a>       <a id="4347" class="Symbol">:</a> <a id="4349" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4354" href="Ledger.Conway.Specification.Gov.Actions.html#3459" class="Record">GovProposal</a>
        <a id="4374" href="Ledger.Dijkstra.Specification.Transaction.html#4374" class="Field">txNetworkId</a>          <a id="4395" class="Symbol">:</a> <a id="4397" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4403" href="Ledger.Core.Specification.Epoch.html#2157" class="Function">Network</a>
        <a id="4419" href="Ledger.Dijkstra.Specification.Transaction.html#4419" class="Field">currentTreasury</a>      <a id="4440" class="Symbol">:</a> <a id="4442" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4448" href="Ledger.Prelude.Base.html#154" class="Function">Coin</a>
        <a id="4461" href="Ledger.Dijkstra.Specification.Transaction.html#4461" class="Field">mint</a>                 <a id="4482" class="Symbol">:</a> <a id="4484" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
        <a id="4498" href="Ledger.Dijkstra.Specification.Transaction.html#4498" class="Field">scriptIntegrityHash</a>  <a id="4519" class="Symbol">:</a> <a id="4521" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="4527" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

        <a id="4547" class="Comment">-- new in Dijkstra</a>
        <a id="4574" href="Ledger.Dijkstra.Specification.Transaction.html#4574" class="Field">txSubTransactions</a>         <a id="4600" class="Symbol">:</a> <a id="4602" href="Ledger.Dijkstra.Specification.Transaction.html#745" class="Function">InTopLevel</a> <a id="4613" href="Ledger.Dijkstra.Specification.Transaction.html#3673" class="Bound">txLevel</a> <a id="4621" class="Symbol">(</a><a id="4622" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4627" class="Symbol">(</a><a id="4628" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="4631" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a><a id="4641" class="Symbol">))</a> <a id="4644" class="Comment">-- only in top-level tx</a>
        <a id="4676" href="Ledger.Dijkstra.Specification.Transaction.html#4676" class="Field">txRequiredGuards</a>          <a id="4702" class="Symbol">:</a> <a id="4704" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4706" href="Ledger.Core.Specification.Address.html#260" class="Datatype">Credential</a> <a id="4717" class="Comment">-- replaces reqSigHash : ℙ KeyHash</a>
        <a id="4760" href="Ledger.Dijkstra.Specification.Transaction.html#4760" class="Field">txRequiredTopLevelGuards</a>  <a id="4786" class="Symbol">:</a> <a id="4788" href="Ledger.Dijkstra.Specification.Transaction.html#837" class="Function">InSubLevel</a> <a id="4799" href="Ledger.Dijkstra.Specification.Transaction.html#3673" class="Bound">txLevel</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="4819" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4821" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a><a id="4826" class="Symbol">)</a> <a id="4828" class="Comment">-- only in sub-level tx</a>

    <a id="4857" class="Keyword">record</a> <a id="TransactionStructure.TxWitnesses"></a><a id="4864" href="Ledger.Dijkstra.Specification.Transaction.html#4864" class="Record">TxWitnesses</a> <a id="4876" class="Symbol">(</a><a id="4877" href="Ledger.Dijkstra.Specification.Transaction.html#4877" class="Bound">txLevel</a> <a id="4885" class="Symbol">:</a> <a id="4887" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a><a id="4894" class="Symbol">)</a> <a id="4896" class="Symbol">:</a> <a id="4898" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="4903" class="Keyword">where</a>
      <a id="4915" class="Keyword">inductive</a>
      <a id="4931" class="Keyword">field</a>
        <a id="4945" href="Ledger.Dijkstra.Specification.Transaction.html#4945" class="Field">vKeySigs</a>     <a id="4958" class="Symbol">:</a> <a id="4960" href="Ledger.Core.Specification.Crypto.html#649" class="Function">VKey</a> <a id="4965" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="4967" href="Ledger.Core.Specification.Crypto.html#654" class="Function">Sig</a>
        <a id="4979" href="Ledger.Dijkstra.Specification.Transaction.html#4979" class="Field">scripts</a>      <a id="4992" class="Symbol">:</a> <a id="4994" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="4996" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
        <a id="5011" href="Ledger.Dijkstra.Specification.Transaction.html#5011" class="Field">txData</a>       <a id="5024" class="Symbol">:</a> <a id="5026" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a> <a id="5035" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5037" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
        <a id="5051" href="Ledger.Dijkstra.Specification.Transaction.html#5051" class="Field">txRedeemers</a>  <a id="5064" class="Symbol">:</a> <a id="5066" href="Ledger.Dijkstra.Specification.Transaction.html#3091" class="Function">RedeemerPtr</a> <a id="5078" href="Ledger.Dijkstra.Specification.Transaction.html#4877" class="Bound">txLevel</a> <a id="5086" href="abstract-set-theory.FiniteSetTheory.html#633" class="Function Operator">⇀</a> <a id="5088" href="Ledger.Conway.Specification.Script.Base.html#1788" class="Function">Redeemer</a> <a id="5097" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="5099" href="Ledger.Conway.Specification.Script.Base.html#1018" class="Function">ExUnits</a>

      <a id="TransactionStructure.TxWitnesses.scriptsP1"></a><a id="5114" href="Ledger.Dijkstra.Specification.Transaction.html#5114" class="Function">scriptsP1</a> <a id="5124" class="Symbol">:</a> <a id="5126" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5128" href="Ledger.Conway.Specification.Script.Base.html#642" class="Function">P1Script</a>
      <a id="5143" href="Ledger.Dijkstra.Specification.Transaction.html#5114" class="Function">scriptsP1</a> <a id="5153" class="Symbol">=</a> <a id="5155" href="Axiom.Set.html#7805" class="Function">mapPartial</a> <a id="5166" href="Data.Sum.html#787" class="Function">isInj₁</a> <a id="5173" href="Ledger.Dijkstra.Specification.Transaction.html#4979" class="Field">scripts</a>


  <a id="TransactionStructure.TopLevelTx"></a><a id="5185" href="Ledger.Dijkstra.Specification.Transaction.html#5185" class="Function">TopLevelTx</a> <a id="5196" class="Symbol">:</a> <a id="5198" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5205" href="Ledger.Dijkstra.Specification.Transaction.html#5185" class="Function">TopLevelTx</a> <a id="5216" class="Symbol">=</a> <a id="5218" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="5221" href="Ledger.Dijkstra.Specification.Transaction.html#711" class="InductiveConstructor">TxLevelTop</a>

  <a id="TransactionStructure.SubLevelTx"></a><a id="5235" href="Ledger.Dijkstra.Specification.Transaction.html#5235" class="Function">SubLevelTx</a> <a id="5246" class="Symbol">:</a> <a id="5248" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5255" href="Ledger.Dijkstra.Specification.Transaction.html#5235" class="Function">SubLevelTx</a> <a id="5266" class="Symbol">=</a> <a id="5268" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="5271" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a>


  <a id="TransactionStructure.AnyLevelTx"></a><a id="5286" href="Ledger.Dijkstra.Specification.Transaction.html#5286" class="Function">AnyLevelTx</a> <a id="5297" class="Symbol">:</a> <a id="5299" href="Agda.Primitive.html#388" class="Primitive">Type</a>
  <a id="5306" href="Ledger.Dijkstra.Specification.Transaction.html#5286" class="Function">AnyLevelTx</a> <a id="5317" class="Symbol">=</a> <a id="5319" href="Ledger.Dijkstra.Specification.Transaction.html#5185" class="Function">TopLevelTx</a> <a id="5330" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="5332" href="Ledger.Dijkstra.Specification.Transaction.html#5235" class="Function">SubLevelTx</a>


  <a id="5347" class="Keyword">record</a> <a id="TransactionStructure.HasTxBody"></a><a id="5354" href="Ledger.Dijkstra.Specification.Transaction.html#5354" class="Record">HasTxBody</a> <a id="5364" class="Symbol">{</a><a id="5365" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Bound">txLevel</a><a id="5372" class="Symbol">}</a> <a id="5374" class="Symbol">{</a><a id="5375" href="Ledger.Dijkstra.Specification.Transaction.html#5375" class="Bound">a</a><a id="5376" class="Symbol">}</a> <a id="5378" class="Symbol">(</a><a id="5379" href="Ledger.Dijkstra.Specification.Transaction.html#5379" class="Bound">A</a> <a id="5381" class="Symbol">:</a> <a id="5383" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5388" href="Ledger.Dijkstra.Specification.Transaction.html#5375" class="Bound">a</a><a id="5389" class="Symbol">)</a> <a id="5391" class="Symbol">:</a> <a id="5393" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5398" href="Ledger.Dijkstra.Specification.Transaction.html#5375" class="Bound">a</a> <a id="5400" class="Keyword">where</a>
    <a id="5410" class="Keyword">field</a> <a id="5416" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a> <a id="5425" class="Symbol">:</a> <a id="5427" href="Ledger.Dijkstra.Specification.Transaction.html#5379" class="Bound">A</a> <a id="5429" class="Symbol">→</a> <a id="5431" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="5438" href="Ledger.Dijkstra.Specification.Transaction.html#5365" class="Bound">txLevel</a>
  <a id="5448" class="Keyword">open</a> <a id="5453" href="Ledger.Dijkstra.Specification.Transaction.html#5354" class="Module">HasTxBody</a>  <a id="5464" class="Symbol">⦃...⦄</a> <a id="5470" class="Keyword">public</a>

  <a id="5480" class="Keyword">record</a> <a id="TransactionStructure.HasTxId"></a><a id="5487" href="Ledger.Dijkstra.Specification.Transaction.html#5487" class="Record">HasTxId</a>    <a id="5498" class="Symbol">{</a><a id="5499" href="Ledger.Dijkstra.Specification.Transaction.html#5499" class="Bound">a</a><a id="5500" class="Symbol">}</a> <a id="5502" class="Symbol">(</a><a id="5503" href="Ledger.Dijkstra.Specification.Transaction.html#5503" class="Bound">A</a> <a id="5505" class="Symbol">:</a> <a id="5507" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5512" href="Ledger.Dijkstra.Specification.Transaction.html#5499" class="Bound">a</a><a id="5513" class="Symbol">)</a> <a id="5515" class="Symbol">:</a> <a id="5517" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5522" href="Ledger.Dijkstra.Specification.Transaction.html#5499" class="Bound">a</a> <a id="5524" class="Keyword">where</a>
    <a id="5534" class="Keyword">field</a> <a id="5540" href="Ledger.Dijkstra.Specification.Transaction.html#5540" class="Field">TxIdOf</a>    <a id="5550" class="Symbol">:</a> <a id="5552" href="Ledger.Dijkstra.Specification.Transaction.html#5503" class="Bound">A</a> <a id="5554" class="Symbol">→</a> <a id="5556" href="Ledger.Dijkstra.Specification.Transaction.html#1299" class="Field">TxId</a>
  <a id="5563" class="Keyword">open</a> <a id="5568" href="Ledger.Dijkstra.Specification.Transaction.html#5487" class="Module">HasTxId</a>    <a id="5579" class="Symbol">⦃...⦄</a> <a id="5585" class="Keyword">public</a>

  <a id="5595" class="Keyword">record</a> <a id="TransactionStructure.HasFees?"></a><a id="5602" href="Ledger.Dijkstra.Specification.Transaction.html#5602" class="Record">HasFees?</a> <a id="5611" class="Symbol">{</a><a id="5612" href="Ledger.Dijkstra.Specification.Transaction.html#5612" class="Bound">a</a><a id="5613" class="Symbol">}</a> <a id="5615" class="Symbol">(</a><a id="5616" href="Ledger.Dijkstra.Specification.Transaction.html#5616" class="Bound">A</a> <a id="5618" class="Symbol">:</a> <a id="5620" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5625" href="Ledger.Dijkstra.Specification.Transaction.html#5612" class="Bound">a</a><a id="5626" class="Symbol">)</a> <a id="5628" class="Symbol">:</a> <a id="5630" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5635" href="Ledger.Dijkstra.Specification.Transaction.html#5612" class="Bound">a</a> <a id="5637" class="Keyword">where</a>
    <a id="5647" class="Keyword">field</a> <a id="5653" href="Ledger.Dijkstra.Specification.Transaction.html#5653" class="Field">FeesOf?</a> <a id="5661" class="Symbol">:</a> <a id="5663" href="Ledger.Dijkstra.Specification.Transaction.html#5616" class="Bound">A</a> <a id="5665" class="Symbol">→</a> <a id="5667" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5673" href="Ledger.Prelude.Base.html#186" class="Function">Fees</a>
  <a id="5680" class="Keyword">open</a> <a id="5685" href="Ledger.Dijkstra.Specification.Transaction.html#5602" class="Module">HasFees?</a> <a id="5694" class="Symbol">⦃...⦄</a> <a id="5700" class="Keyword">public</a>

  <a id="5710" class="Keyword">record</a> <a id="TransactionStructure.HasDCerts"></a><a id="5717" href="Ledger.Dijkstra.Specification.Transaction.html#5717" class="Record">HasDCerts</a> <a id="5727" class="Symbol">{</a><a id="5728" href="Ledger.Dijkstra.Specification.Transaction.html#5728" class="Bound">a</a><a id="5729" class="Symbol">}</a> <a id="5731" class="Symbol">(</a><a id="5732" href="Ledger.Dijkstra.Specification.Transaction.html#5732" class="Bound">A</a> <a id="5734" class="Symbol">:</a> <a id="5736" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5741" href="Ledger.Dijkstra.Specification.Transaction.html#5728" class="Bound">a</a><a id="5742" class="Symbol">)</a> <a id="5744" class="Symbol">:</a> <a id="5746" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5751" href="Ledger.Dijkstra.Specification.Transaction.html#5728" class="Bound">a</a> <a id="5753" class="Keyword">where</a>
    <a id="5763" class="Keyword">field</a> <a id="5769" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">DCertsOf</a> <a id="5778" class="Symbol">:</a> <a id="5780" href="Ledger.Dijkstra.Specification.Transaction.html#5732" class="Bound">A</a> <a id="5782" class="Symbol">→</a> <a id="5784" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5789" href="Ledger.Conway.Specification.Certs.html#2238" class="Datatype">DCert</a>
  <a id="5797" class="Keyword">open</a> <a id="5802" href="Ledger.Dijkstra.Specification.Transaction.html#5717" class="Module">HasDCerts</a> <a id="5812" class="Symbol">⦃...⦄</a> <a id="5818" class="Keyword">public</a>

  <a id="5828" class="Keyword">record</a> <a id="TransactionStructure.HasData"></a><a id="5835" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Record">HasData</a> <a id="5843" class="Symbol">{</a><a id="5844" href="Ledger.Dijkstra.Specification.Transaction.html#5844" class="Bound">a</a><a id="5845" class="Symbol">}</a> <a id="5847" class="Symbol">(</a><a id="5848" href="Ledger.Dijkstra.Specification.Transaction.html#5848" class="Bound">A</a> <a id="5850" class="Symbol">:</a> <a id="5852" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5857" href="Ledger.Dijkstra.Specification.Transaction.html#5844" class="Bound">a</a><a id="5858" class="Symbol">)</a> <a id="5860" class="Symbol">:</a> <a id="5862" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5867" href="Ledger.Dijkstra.Specification.Transaction.html#5844" class="Bound">a</a> <a id="5869" class="Keyword">where</a>
    <a id="5879" class="Keyword">field</a> <a id="5885" href="Ledger.Dijkstra.Specification.Transaction.html#5885" class="Field">DataOf</a> <a id="5892" class="Symbol">:</a> <a id="5894" href="Ledger.Dijkstra.Specification.Transaction.html#5848" class="Bound">A</a> <a id="5896" class="Symbol">→</a> <a id="5898" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="5900" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a>
  <a id="5908" class="Keyword">open</a> <a id="5913" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Module">HasData</a> <a id="5921" class="Symbol">⦃...⦄</a> <a id="5927" class="Keyword">public</a>

  <a id="5937" class="Keyword">record</a> <a id="TransactionStructure.HasTxWitnesses"></a><a id="5944" href="Ledger.Dijkstra.Specification.Transaction.html#5944" class="Record">HasTxWitnesses</a> <a id="5959" class="Symbol">{</a><a id="5960" href="Ledger.Dijkstra.Specification.Transaction.html#5960" class="Bound">txLevel</a><a id="5967" class="Symbol">}</a> <a id="5969" class="Symbol">{</a><a id="5970" href="Ledger.Dijkstra.Specification.Transaction.html#5970" class="Bound">a</a><a id="5971" class="Symbol">}</a> <a id="5973" class="Symbol">(</a><a id="5974" href="Ledger.Dijkstra.Specification.Transaction.html#5974" class="Bound">A</a> <a id="5976" class="Symbol">:</a> <a id="5978" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5983" href="Ledger.Dijkstra.Specification.Transaction.html#5970" class="Bound">a</a><a id="5984" class="Symbol">)</a> <a id="5986" class="Symbol">:</a> <a id="5988" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="5993" href="Ledger.Dijkstra.Specification.Transaction.html#5970" class="Bound">a</a> <a id="5995" class="Keyword">where</a>
    <a id="6005" class="Keyword">field</a> <a id="6011" href="Ledger.Dijkstra.Specification.Transaction.html#6011" class="Field">TxWitnessesOf</a> <a id="6025" class="Symbol">:</a> <a id="6027" href="Ledger.Dijkstra.Specification.Transaction.html#5974" class="Bound">A</a> <a id="6029" class="Symbol">→</a> <a id="6031" href="Ledger.Dijkstra.Specification.Transaction.html#4864" class="Record">TxWitnesses</a> <a id="6043" href="Ledger.Dijkstra.Specification.Transaction.html#5960" class="Bound">txLevel</a>
  <a id="6053" class="Keyword">open</a> <a id="6058" href="Ledger.Dijkstra.Specification.Transaction.html#5944" class="Module">HasTxWitnesses</a> <a id="6073" class="Symbol">⦃...⦄</a> <a id="6079" class="Keyword">public</a>

  <a id="6089" class="Keyword">record</a> <a id="TransactionStructure.HasValue"></a><a id="6096" href="Ledger.Dijkstra.Specification.Transaction.html#6096" class="Record">HasValue</a> <a id="6105" class="Symbol">{</a><a id="6106" href="Ledger.Dijkstra.Specification.Transaction.html#6106" class="Bound">a</a><a id="6107" class="Symbol">}</a> <a id="6109" class="Symbol">(</a><a id="6110" href="Ledger.Dijkstra.Specification.Transaction.html#6110" class="Bound">A</a> <a id="6112" class="Symbol">:</a> <a id="6114" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6119" href="Ledger.Dijkstra.Specification.Transaction.html#6106" class="Bound">a</a><a id="6120" class="Symbol">)</a> <a id="6122" class="Symbol">:</a> <a id="6124" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6129" href="Ledger.Dijkstra.Specification.Transaction.html#6106" class="Bound">a</a> <a id="6131" class="Keyword">where</a>
    <a id="6141" class="Keyword">field</a> <a id="6147" href="Ledger.Dijkstra.Specification.Transaction.html#6147" class="Field">ValueOf</a> <a id="6155" class="Symbol">:</a> <a id="6157" href="Ledger.Dijkstra.Specification.Transaction.html#6110" class="Bound">A</a> <a id="6159" class="Symbol">→</a> <a id="6161" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="6169" class="Keyword">open</a> <a id="6174" href="Ledger.Dijkstra.Specification.Transaction.html#6096" class="Module">HasValue</a> <a id="6183" class="Symbol">⦃...⦄</a> <a id="6189" class="Keyword">public</a>

  <a id="6199" class="Keyword">record</a> <a id="TransactionStructure.HasGovProposals"></a><a id="6206" href="Ledger.Dijkstra.Specification.Transaction.html#6206" class="Record">HasGovProposals</a> <a id="6222" class="Symbol">{</a><a id="6223" href="Ledger.Dijkstra.Specification.Transaction.html#6223" class="Bound">a</a><a id="6224" class="Symbol">}</a> <a id="6226" class="Symbol">(</a><a id="6227" href="Ledger.Dijkstra.Specification.Transaction.html#6227" class="Bound">A</a> <a id="6229" class="Symbol">:</a> <a id="6231" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6236" href="Ledger.Dijkstra.Specification.Transaction.html#6223" class="Bound">a</a><a id="6237" class="Symbol">)</a> <a id="6239" class="Symbol">:</a> <a id="6241" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6246" href="Ledger.Dijkstra.Specification.Transaction.html#6223" class="Bound">a</a> <a id="6248" class="Keyword">where</a>
    <a id="6258" class="Keyword">field</a> <a id="6264" href="Ledger.Dijkstra.Specification.Transaction.html#6264" class="Field">GovProposalsOf</a> <a id="6279" class="Symbol">:</a> <a id="6281" href="Ledger.Dijkstra.Specification.Transaction.html#6227" class="Bound">A</a> <a id="6283" class="Symbol">→</a> <a id="6285" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6290" href="Ledger.Conway.Specification.Gov.Actions.html#3459" class="Record">GovProposal</a>
  <a id="6304" class="Keyword">open</a> <a id="6309" href="Ledger.Dijkstra.Specification.Transaction.html#6206" class="Module">HasGovProposals</a> <a id="6325" class="Symbol">⦃...⦄</a> <a id="6331" class="Keyword">public</a>

  <a id="6341" class="Keyword">record</a> <a id="TransactionStructure.HasGovVotes"></a><a id="6348" href="Ledger.Dijkstra.Specification.Transaction.html#6348" class="Record">HasGovVotes</a> <a id="6360" class="Symbol">{</a><a id="6361" href="Ledger.Dijkstra.Specification.Transaction.html#6361" class="Bound">a</a><a id="6362" class="Symbol">}</a> <a id="6364" class="Symbol">(</a><a id="6365" href="Ledger.Dijkstra.Specification.Transaction.html#6365" class="Bound">A</a> <a id="6367" class="Symbol">:</a> <a id="6369" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6374" href="Ledger.Dijkstra.Specification.Transaction.html#6361" class="Bound">a</a><a id="6375" class="Symbol">)</a> <a id="6377" class="Symbol">:</a> <a id="6379" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="6384" href="Ledger.Dijkstra.Specification.Transaction.html#6361" class="Bound">a</a> <a id="6386" class="Keyword">where</a>
    <a id="6396" class="Keyword">field</a> <a id="6402" href="Ledger.Dijkstra.Specification.Transaction.html#6402" class="Field">GovVotesOf</a> <a id="6413" class="Symbol">:</a> <a id="6415" href="Ledger.Dijkstra.Specification.Transaction.html#6365" class="Bound">A</a> <a id="6417" class="Symbol">→</a> <a id="6419" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="6424" href="Ledger.Conway.Specification.Gov.Actions.html#3270" class="Record">GovVote</a>
  <a id="6434" class="Keyword">open</a> <a id="6439" href="Ledger.Dijkstra.Specification.Transaction.html#6348" class="Module">HasGovVotes</a> <a id="6451" class="Symbol">⦃...⦄</a> <a id="6457" class="Keyword">public</a>

  <a id="6467" class="Keyword">instance</a>
    <a id="TransactionStructure.HasTxBody-Tx"></a><a id="6480" href="Ledger.Dijkstra.Specification.Transaction.html#6480" class="Function">HasTxBody-Tx</a> <a id="6493" class="Symbol">:</a> <a id="6495" href="Ledger.Dijkstra.Specification.Transaction.html#5354" class="Record">HasTxBody</a> <a id="6505" class="Symbol">(</a><a id="6506" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="6509" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="6516" class="Symbol">)</a>
    <a id="6522" href="Ledger.Dijkstra.Specification.Transaction.html#6480" class="Function">HasTxBody-Tx</a> <a id="6535" class="Symbol">.</a><a id="6536" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a> <a id="6545" class="Symbol">=</a> <a id="6547" href="Ledger.Dijkstra.Specification.Transaction.html#3490" class="Field">Tx.txBody</a>

    <a id="TransactionStructure.HasTxWitnesses-Tx"></a><a id="6562" href="Ledger.Dijkstra.Specification.Transaction.html#6562" class="Function">HasTxWitnesses-Tx</a> <a id="6580" class="Symbol">:</a> <a id="6582" href="Ledger.Dijkstra.Specification.Transaction.html#5944" class="Record">HasTxWitnesses</a> <a id="6597" class="Symbol">(</a><a id="6598" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="6601" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="6608" class="Symbol">)</a>
    <a id="6614" href="Ledger.Dijkstra.Specification.Transaction.html#6562" class="Function">HasTxWitnesses-Tx</a> <a id="6632" class="Symbol">.</a><a id="6633" href="Ledger.Dijkstra.Specification.Transaction.html#6011" class="Field">TxWitnessesOf</a> <a id="6647" class="Symbol">=</a> <a id="6649" href="Ledger.Dijkstra.Specification.Transaction.html#3528" class="Field">Tx.txWitnesses</a>

    <a id="TransactionStructure.HasDCerts-TxBody"></a><a id="6669" href="Ledger.Dijkstra.Specification.Transaction.html#6669" class="Function">HasDCerts-TxBody</a> <a id="6686" class="Symbol">:</a> <a id="6688" href="Ledger.Dijkstra.Specification.Transaction.html#5717" class="Record">HasDCerts</a> <a id="6698" class="Symbol">(</a><a id="6699" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="6706" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="6713" class="Symbol">)</a>
    <a id="6719" href="Ledger.Dijkstra.Specification.Transaction.html#6669" class="Function">HasDCerts-TxBody</a> <a id="6736" class="Symbol">.</a><a id="6737" href="Ledger.Dijkstra.Specification.Transaction.html#5769" class="Field">DCertsOf</a> <a id="6746" class="Symbol">=</a> <a id="6748" href="Ledger.Dijkstra.Specification.Transaction.html#3978" class="Field">TxBody.txCerts</a>

    <a id="TransactionStructure.HasWithdrawals-TxBody"></a><a id="6768" href="Ledger.Dijkstra.Specification.Transaction.html#6768" class="Function">HasWithdrawals-TxBody</a> <a id="6790" class="Symbol">:</a> <a id="6792" href="Ledger.Core.Specification.Address.html#1646" class="Record">HasWithdrawals</a> <a id="6807" class="Symbol">(</a><a id="6808" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="6815" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="6822" class="Symbol">)</a>
    <a id="6828" href="Ledger.Dijkstra.Specification.Transaction.html#6768" class="Function">HasWithdrawals-TxBody</a> <a id="6850" class="Symbol">.</a><a id="6851" href="Ledger.Core.Specification.Address.html#1701" class="Field">WithdrawalsOf</a> <a id="6865" class="Symbol">=</a> <a id="6867" href="Ledger.Dijkstra.Specification.Transaction.html#4099" class="Field">TxBody.txWithdrawals</a>

    <a id="TransactionStructure.HasWithdrawals-Tx"></a><a id="6893" href="Ledger.Dijkstra.Specification.Transaction.html#6893" class="Function">HasWithdrawals-Tx</a> <a id="6911" class="Symbol">:</a> <a id="6913" href="Ledger.Core.Specification.Address.html#1646" class="Record">HasWithdrawals</a> <a id="6928" class="Symbol">(</a><a id="6929" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="6932" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="6939" class="Symbol">)</a>
    <a id="6945" href="Ledger.Dijkstra.Specification.Transaction.html#6893" class="Function">HasWithdrawals-Tx</a> <a id="6963" class="Symbol">.</a><a id="6964" href="Ledger.Core.Specification.Address.html#1701" class="Field">WithdrawalsOf</a> <a id="6978" class="Symbol">=</a> <a id="6980" href="Ledger.Core.Specification.Address.html#1701" class="Field">WithdrawalsOf</a> <a id="6994" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="6996" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasValue-TxBody"></a><a id="7010" href="Ledger.Dijkstra.Specification.Transaction.html#7010" class="Function">HasValue-TxBody</a> <a id="7026" class="Symbol">:</a> <a id="7028" href="Ledger.Dijkstra.Specification.Transaction.html#6096" class="Record">HasValue</a> <a id="7037" class="Symbol">(</a><a id="7038" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="7045" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7052" class="Symbol">)</a>
    <a id="7058" href="Ledger.Dijkstra.Specification.Transaction.html#7010" class="Function">HasValue-TxBody</a> <a id="7074" class="Symbol">.</a><a id="7075" href="Ledger.Dijkstra.Specification.Transaction.html#6147" class="Field">ValueOf</a> <a id="7083" class="Symbol">=</a> <a id="7085" href="Ledger.Dijkstra.Specification.Transaction.html#4461" class="Field">TxBody.mint</a>

    <a id="TransactionStructure.HasGovVotes-TxBody"></a><a id="7102" href="Ledger.Dijkstra.Specification.Transaction.html#7102" class="Function">HasGovVotes-TxBody</a> <a id="7121" class="Symbol">:</a> <a id="7123" href="Ledger.Dijkstra.Specification.Transaction.html#6348" class="Record">HasGovVotes</a> <a id="7135" class="Symbol">(</a><a id="7136" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="7143" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7150" class="Symbol">)</a>
    <a id="7156" href="Ledger.Dijkstra.Specification.Transaction.html#7102" class="Function">HasGovVotes-TxBody</a> <a id="7175" class="Symbol">.</a><a id="7176" href="Ledger.Dijkstra.Specification.Transaction.html#6402" class="Field">GovVotesOf</a> <a id="7187" class="Symbol">=</a> <a id="7189" href="Ledger.Dijkstra.Specification.Transaction.html#4282" class="Field">TxBody.txGovVotes</a>

    <a id="TransactionStructure.HasGovVotes-Tx"></a><a id="7212" href="Ledger.Dijkstra.Specification.Transaction.html#7212" class="Function">HasGovVotes-Tx</a> <a id="7227" class="Symbol">:</a> <a id="7229" href="Ledger.Dijkstra.Specification.Transaction.html#6348" class="Record">HasGovVotes</a> <a id="7241" class="Symbol">(</a><a id="7242" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="7245" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7252" class="Symbol">)</a>
    <a id="7258" href="Ledger.Dijkstra.Specification.Transaction.html#7212" class="Function">HasGovVotes-Tx</a> <a id="7273" class="Symbol">.</a><a id="7274" href="Ledger.Dijkstra.Specification.Transaction.html#6402" class="Field">GovVotesOf</a> <a id="7285" class="Symbol">=</a> <a id="7287" href="Ledger.Dijkstra.Specification.Transaction.html#6402" class="Field">GovVotesOf</a> <a id="7298" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7300" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasGovProposals-TxBody"></a><a id="7314" href="Ledger.Dijkstra.Specification.Transaction.html#7314" class="Function">HasGovProposals-TxBody</a> <a id="7337" class="Symbol">:</a> <a id="7339" href="Ledger.Dijkstra.Specification.Transaction.html#6206" class="Record">HasGovProposals</a> <a id="7355" class="Symbol">(</a><a id="7356" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="7363" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7370" class="Symbol">)</a>
    <a id="7376" href="Ledger.Dijkstra.Specification.Transaction.html#7314" class="Function">HasGovProposals-TxBody</a> <a id="7399" class="Symbol">.</a><a id="7400" href="Ledger.Dijkstra.Specification.Transaction.html#6264" class="Field">GovProposalsOf</a> <a id="7415" class="Symbol">=</a> <a id="7417" href="Ledger.Dijkstra.Specification.Transaction.html#4326" class="Field">TxBody.txGovProposals</a>

    <a id="TransactionStructure.HasGovProposals-Tx"></a><a id="7444" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Function">HasGovProposals-Tx</a> <a id="7463" class="Symbol">:</a> <a id="7465" href="Ledger.Dijkstra.Specification.Transaction.html#6206" class="Record">HasGovProposals</a> <a id="7481" class="Symbol">(</a><a id="7482" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="7485" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7492" class="Symbol">)</a>
    <a id="7498" href="Ledger.Dijkstra.Specification.Transaction.html#7444" class="Function">HasGovProposals-Tx</a> <a id="7517" class="Symbol">.</a><a id="7518" href="Ledger.Dijkstra.Specification.Transaction.html#6264" class="Field">GovProposalsOf</a> <a id="7533" class="Symbol">=</a> <a id="7535" href="Ledger.Dijkstra.Specification.Transaction.html#6264" class="Field">GovProposalsOf</a> <a id="7550" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7552" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasFees?-TxBody"></a><a id="7566" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Function">HasFees?-TxBody</a> <a id="7582" class="Symbol">:</a> <a id="7584" class="Symbol">{</a><a id="7585" href="Ledger.Dijkstra.Specification.Transaction.html#7585" class="Bound">ℓ</a> <a id="7587" class="Symbol">:</a> <a id="7589" href="Ledger.Dijkstra.Specification.Transaction.html#688" class="Datatype">TxLevel</a><a id="7596" class="Symbol">}</a> <a id="7598" class="Symbol">→</a> <a id="7600" href="Ledger.Dijkstra.Specification.Transaction.html#5602" class="Record">HasFees?</a> <a id="7609" class="Symbol">(</a><a id="7610" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Record">TxBody</a> <a id="7617" href="Ledger.Dijkstra.Specification.Transaction.html#7585" class="Bound">ℓ</a><a id="7618" class="Symbol">)</a>
    <a id="7624" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Function">HasFees?-TxBody</a> <a id="7640" class="Symbol">{</a><a id="7641" href="Ledger.Dijkstra.Specification.Transaction.html#711" class="InductiveConstructor">TxLevelTop</a><a id="7651" class="Symbol">}</a> <a id="7653" class="Symbol">.</a><a id="7654" href="Ledger.Dijkstra.Specification.Transaction.html#5653" class="Field">FeesOf?</a> <a id="7662" href="Ledger.Dijkstra.Specification.Transaction.html#7662" class="Bound">tbTop</a> <a id="7668" class="Symbol">=</a> <a id="7670" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7675" class="Symbol">(</a><a id="7676" href="Ledger.Dijkstra.Specification.Transaction.html#4020" class="Field">TxBody.txFee</a> <a id="7689" href="Ledger.Dijkstra.Specification.Transaction.html#7662" class="Bound">tbTop</a><a id="7694" class="Symbol">)</a>
    <a id="7700" href="Ledger.Dijkstra.Specification.Transaction.html#7566" class="Function">HasFees?-TxBody</a> <a id="7716" class="Symbol">{</a><a id="7717" href="Ledger.Dijkstra.Specification.Transaction.html#722" class="InductiveConstructor">TxLevelSub</a><a id="7727" class="Symbol">}</a> <a id="7729" class="Symbol">.</a><a id="7730" href="Ledger.Dijkstra.Specification.Transaction.html#5653" class="Field">FeesOf?</a> <a id="7738" href="Ledger.Dijkstra.Specification.Transaction.html#7738" class="Bound">tbSub</a> <a id="7744" class="Symbol">=</a> <a id="7746" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

    <a id="TransactionStructure.HasFees?-Tx"></a><a id="7759" href="Ledger.Dijkstra.Specification.Transaction.html#7759" class="Function">HasFees?-Tx</a> <a id="7771" class="Symbol">:</a> <a id="7773" href="Ledger.Dijkstra.Specification.Transaction.html#5602" class="Record">HasFees?</a> <a id="7782" class="Symbol">(</a><a id="7783" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="7786" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7793" class="Symbol">)</a>
    <a id="7799" href="Ledger.Dijkstra.Specification.Transaction.html#7759" class="Function">HasFees?-Tx</a> <a id="7811" class="Symbol">.</a><a id="7812" href="Ledger.Dijkstra.Specification.Transaction.html#5653" class="Field">FeesOf?</a> <a id="7820" class="Symbol">=</a> <a id="7822" href="Ledger.Dijkstra.Specification.Transaction.html#5653" class="Field">FeesOf?</a> <a id="7830" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7832" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasTxId-Tx"></a><a id="7846" href="Ledger.Dijkstra.Specification.Transaction.html#7846" class="Function">HasTxId-Tx</a> <a id="7857" class="Symbol">:</a> <a id="7859" href="Ledger.Dijkstra.Specification.Transaction.html#5487" class="Record">HasTxId</a> <a id="7867" class="Symbol">(</a><a id="7868" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="7871" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="7878" class="Symbol">)</a>
    <a id="7884" href="Ledger.Dijkstra.Specification.Transaction.html#7846" class="Function">HasTxId-Tx</a> <a id="7895" class="Symbol">.</a><a id="7896" href="Ledger.Dijkstra.Specification.Transaction.html#5540" class="Field">TxIdOf</a> <a id="7903" class="Symbol">=</a> <a id="7905" href="Ledger.Dijkstra.Specification.Transaction.html#3942" class="Field">TxBody.txId</a> <a id="7917" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7919" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a>

    <a id="TransactionStructure.HasCoin-TxOut"></a><a id="7933" href="Ledger.Dijkstra.Specification.Transaction.html#7933" class="Function">HasCoin-TxOut</a> <a id="7947" class="Symbol">:</a> <a id="7949" href="Ledger.Prelude.HasCoin.html#122" class="Record">HasCoin</a> <a id="7957" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a>
    <a id="7967" href="Ledger.Dijkstra.Specification.Transaction.html#7933" class="Function">HasCoin-TxOut</a> <a id="7981" class="Symbol">.</a><a id="7982" href="Ledger.Prelude.HasCoin.html#170" class="Field">getCoin</a> <a id="7990" class="Symbol">=</a> <a id="7992" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#838" class="Function">coin</a> <a id="7997" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="7999" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8005" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8007" href="Data.Product.Base.html#650" class="Field">proj₂</a>

    <a id="TransactionStructure.HasData-TxWitnesses"></a><a id="8018" href="Ledger.Dijkstra.Specification.Transaction.html#8018" class="Function">HasData-TxWitnesses</a> <a id="8038" class="Symbol">:</a> <a id="8040" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Record">HasData</a> <a id="8048" class="Symbol">(</a><a id="8049" href="Ledger.Dijkstra.Specification.Transaction.html#4864" class="Record">TxWitnesses</a> <a id="8061" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="8068" class="Symbol">)</a>
    <a id="8074" href="Ledger.Dijkstra.Specification.Transaction.html#8018" class="Function">HasData-TxWitnesses</a> <a id="8094" class="Symbol">.</a><a id="8095" href="Ledger.Dijkstra.Specification.Transaction.html#5885" class="Field">DataOf</a> <a id="8102" class="Symbol">=</a> <a id="8104" href="Class.IsSet.html#959" class="Function">range</a> <a id="8110" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8112" href="Ledger.Dijkstra.Specification.Transaction.html#5011" class="Field">TxWitnesses.txData</a>

    <a id="TransactionStructure.HasData-Tx"></a><a id="8136" href="Ledger.Dijkstra.Specification.Transaction.html#8136" class="Function">HasData-Tx</a> <a id="8147" class="Symbol">:</a> <a id="8149" href="Ledger.Dijkstra.Specification.Transaction.html#5835" class="Record">HasData</a> <a id="8157" class="Symbol">(</a><a id="8158" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="8161" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a><a id="8168" class="Symbol">)</a>
    <a id="8174" href="Ledger.Dijkstra.Specification.Transaction.html#8136" class="Function">HasData-Tx</a> <a id="8185" class="Symbol">.</a><a id="8186" href="Ledger.Dijkstra.Specification.Transaction.html#5885" class="Field">DataOf</a> <a id="8193" class="Symbol">=</a> <a id="8195" href="Ledger.Dijkstra.Specification.Transaction.html#5885" class="Field">DataOf</a> <a id="8202" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8204" href="Ledger.Dijkstra.Specification.Transaction.html#6011" class="Field">TxWitnessesOf</a>

  <a id="TransactionStructure.getValue"></a><a id="8221" href="Ledger.Dijkstra.Specification.Transaction.html#8221" class="Function">getValue</a> <a id="8230" class="Symbol">:</a> <a id="8232" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a> <a id="8238" class="Symbol">→</a> <a id="8240" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="8248" href="Ledger.Dijkstra.Specification.Transaction.html#8221" class="Function">getValue</a> <a id="8257" class="Symbol">(_</a> <a id="8260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8262" href="Ledger.Dijkstra.Specification.Transaction.html#8262" class="Bound">v</a> <a id="8264" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8266" class="Symbol">_)</a> <a id="8269" class="Symbol">=</a> <a id="8271" href="Ledger.Dijkstra.Specification.Transaction.html#8262" class="Bound">v</a>

  <a id="TransactionStructure.TxOutʰ"></a><a id="8276" href="Ledger.Dijkstra.Specification.Transaction.html#8276" class="Function">TxOutʰ</a> <a id="8283" class="Symbol">=</a> <a id="8285" href="Ledger.Core.Specification.Address.html#2489" class="Function">Addr</a> <a id="8290" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8292" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a> <a id="8298" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8300" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8306" class="Symbol">(</a><a id="8307" href="Ledger.Conway.Specification.Script.Base.html#1770" class="Function">Datum</a> <a id="8313" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="8315" href="Ledger.Conway.Specification.Script.Base.html#1723" class="Function">DataHash</a><a id="8323" class="Symbol">)</a> <a id="8325" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="8327" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8333" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a>

  <a id="TransactionStructure.txOutHash"></a><a id="8347" href="Ledger.Dijkstra.Specification.Transaction.html#8347" class="Function">txOutHash</a> <a id="8357" class="Symbol">:</a> <a id="8359" href="Ledger.Dijkstra.Specification.Transaction.html#2863" class="Function">TxOut</a> <a id="8365" class="Symbol">→</a> <a id="8367" href="Ledger.Dijkstra.Specification.Transaction.html#8276" class="Function">TxOutʰ</a>
  <a id="8376" href="Ledger.Dijkstra.Specification.Transaction.html#8347" class="Function">txOutHash</a> <a id="8386" class="Symbol">(</a><a id="8387" href="Ledger.Dijkstra.Specification.Transaction.html#8387" class="Bound">a</a> <a id="8389" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8391" href="Ledger.Dijkstra.Specification.Transaction.html#8391" class="Bound">v</a> <a id="8393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8395" href="Ledger.Dijkstra.Specification.Transaction.html#8395" class="Bound">d</a> <a id="8397" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8399" href="Ledger.Dijkstra.Specification.Transaction.html#8399" class="Bound">s</a><a id="8400" class="Symbol">)</a> <a id="8402" class="Symbol">=</a> <a id="8404" href="Ledger.Dijkstra.Specification.Transaction.html#8387" class="Bound">a</a> <a id="8406" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8408" class="Symbol">(</a><a id="8409" href="Ledger.Dijkstra.Specification.Transaction.html#8391" class="Bound">v</a> <a id="8411" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8413" class="Symbol">(</a><a id="8414" href="Ledger.Dijkstra.Specification.Transaction.html#8395" class="Bound">d</a> <a id="8416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8418" href="Data.Maybe.Base.html#1934" class="Function">M.map</a> <a id="8424" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="8429" href="Ledger.Dijkstra.Specification.Transaction.html#8399" class="Bound">s</a><a id="8430" class="Symbol">))</a>

  <a id="TransactionStructure.getValueʰ"></a><a id="8436" href="Ledger.Dijkstra.Specification.Transaction.html#8436" class="Function">getValueʰ</a> <a id="8446" class="Symbol">:</a> <a id="8448" href="Ledger.Dijkstra.Specification.Transaction.html#8276" class="Function">TxOutʰ</a> <a id="8455" class="Symbol">→</a> <a id="8457" href="Ledger.Conway.Specification.TokenAlgebra.Base.html#518" class="Function">Value</a>
  <a id="8465" href="Ledger.Dijkstra.Specification.Transaction.html#8436" class="Function">getValueʰ</a> <a id="8475" class="Symbol">(_</a> <a id="8478" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8480" href="Ledger.Dijkstra.Specification.Transaction.html#8480" class="Bound">v</a> <a id="8482" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8484" class="Symbol">_)</a> <a id="8487" class="Symbol">=</a> <a id="8489" href="Ledger.Dijkstra.Specification.Transaction.html#8480" class="Bound">v</a>

  <a id="TransactionStructure.txinsVKey"></a><a id="8494" href="Ledger.Dijkstra.Specification.Transaction.html#8494" class="Function">txinsVKey</a> <a id="8504" class="Symbol">:</a> <a id="8506" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8508" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a> <a id="8513" class="Symbol">→</a> <a id="8515" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="8520" class="Symbol">→</a> <a id="8522" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8524" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a>
  <a id="8531" href="Ledger.Dijkstra.Specification.Transaction.html#8494" class="Function">txinsVKey</a> <a id="8541" href="Ledger.Dijkstra.Specification.Transaction.html#8541" class="Bound">txins</a> <a id="8547" href="Ledger.Dijkstra.Specification.Transaction.html#8547" class="Bound">utxo</a> <a id="8552" class="Symbol">=</a> <a id="8554" href="Ledger.Dijkstra.Specification.Transaction.html#8541" class="Bound">txins</a> <a id="8560" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="8562" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8566" class="Symbol">(</a><a id="8567" href="Ledger.Dijkstra.Specification.Transaction.html#8547" class="Bound">utxo</a> <a id="8572" href="abstract-set-theory.FiniteSetTheory.html#3088" class="Function Operator">∣^&#39;</a> <a id="8576" class="Symbol">(</a><a id="8577" href="Ledger.Core.Specification.Address.html#2744" class="Function">isVKeyAddr</a> <a id="8588" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8590" href="Data.Product.Base.html#636" class="Field">proj₁</a><a id="8595" class="Symbol">))</a>

  <a id="TransactionStructure.scriptOuts"></a><a id="8601" href="Ledger.Dijkstra.Specification.Transaction.html#8601" class="Function">scriptOuts</a> <a id="8612" class="Symbol">:</a> <a id="8614" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="8619" class="Symbol">→</a> <a id="8621" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a>
  <a id="8628" href="Ledger.Dijkstra.Specification.Transaction.html#8601" class="Function">scriptOuts</a> <a id="8639" href="Ledger.Dijkstra.Specification.Transaction.html#8639" class="Bound">utxo</a> <a id="8644" class="Symbol">=</a> <a id="8646" href="Ledger.Dijkstra.Specification.Transaction.html#158" class="Function">filter</a> <a id="8653" class="Symbol">(λ</a> <a id="8656" class="Symbol">(_</a> <a id="8659" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8661" href="Ledger.Dijkstra.Specification.Transaction.html#8661" class="Bound">addr</a> <a id="8666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8668" class="Symbol">_)</a> <a id="8671" class="Symbol">→</a> <a id="8673" href="Ledger.Core.Specification.Address.html#2772" class="Function">isScriptAddr</a> <a id="8686" href="Ledger.Dijkstra.Specification.Transaction.html#8661" class="Bound">addr</a><a id="8690" class="Symbol">)</a> <a id="8692" href="Ledger.Dijkstra.Specification.Transaction.html#8639" class="Bound">utxo</a>

  <a id="TransactionStructure.txinsScript"></a><a id="8700" href="Ledger.Dijkstra.Specification.Transaction.html#8700" class="Function">txinsScript</a> <a id="8712" class="Symbol">:</a> <a id="8714" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8716" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a> <a id="8721" class="Symbol">→</a> <a id="8723" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="8728" class="Symbol">→</a> <a id="8730" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="8732" href="Ledger.Dijkstra.Specification.Transaction.html#2829" class="Function">TxIn</a>
  <a id="8739" href="Ledger.Dijkstra.Specification.Transaction.html#8700" class="Function">txinsScript</a> <a id="8751" href="Ledger.Dijkstra.Specification.Transaction.html#8751" class="Bound">txins</a> <a id="8757" href="Ledger.Dijkstra.Specification.Transaction.html#8757" class="Bound">utxo</a> <a id="8762" class="Symbol">=</a> <a id="8764" href="Ledger.Dijkstra.Specification.Transaction.html#8751" class="Bound">txins</a> <a id="8770" href="Axiom.Set.html#9292" class="Function Operator">∩</a> <a id="8772" href="Class.IsSet.html#916" class="Function">dom</a> <a id="8776" class="Symbol">(</a><a id="8777" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="8783" class="Symbol">(</a><a id="8784" href="Ledger.Dijkstra.Specification.Transaction.html#8601" class="Function">scriptOuts</a> <a id="8795" href="Ledger.Dijkstra.Specification.Transaction.html#8757" class="Bound">utxo</a><a id="8799" class="Symbol">))</a>

  <a id="TransactionStructure.refScripts"></a><a id="8805" href="Ledger.Dijkstra.Specification.Transaction.html#8805" class="Function">refScripts</a> <a id="8816" class="Symbol">:</a> <a id="8818" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="8821" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a> <a id="8829" class="Symbol">→</a> <a id="8831" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="8836" class="Symbol">→</a> <a id="8838" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8843" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
  <a id="8852" href="Ledger.Dijkstra.Specification.Transaction.html#8805" class="Function">refScripts</a> <a id="8863" href="Ledger.Dijkstra.Specification.Transaction.html#8863" class="Bound">tx</a> <a id="8866" href="Ledger.Dijkstra.Specification.Transaction.html#8866" class="Bound">utxo</a> <a id="8871" class="Symbol">=</a>
    <a id="8877" href="Data.List.Base.html#4606" class="Function">mapMaybe</a> <a id="8886" class="Symbol">(</a><a id="8887" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8893" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8895" href="Data.Product.Base.html#650" class="Field">proj₂</a> <a id="8901" href="Function.Base.html#1134" class="Function Operator">∘</a> <a id="8903" href="Data.Product.Base.html#650" class="Field">proj₂</a><a id="8908" class="Symbol">)</a> <a id="8910" href="Function.Base.html#1993" class="Function Operator">$</a> <a id="8912" href="abstract-set-theory.FiniteSetTheory.html#2463" class="Function">setToList</a> <a id="8922" class="Symbol">(</a><a id="8923" href="Class.IsSet.html#959" class="Function">range</a> <a id="8929" class="Symbol">(</a><a id="8930" href="Ledger.Dijkstra.Specification.Transaction.html#8866" class="Bound">utxo</a> <a id="8935" href="Axiom.Set.Map.html#10678" class="Function Operator">∣</a> <a id="8937" class="Symbol">(</a><a id="8938" href="Ledger.Dijkstra.Specification.Transaction.html#3741" class="Function">txIns</a> <a id="8944" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="8946" href="Ledger.Dijkstra.Specification.Transaction.html#3779" class="Function">refInputs</a><a id="8955" class="Symbol">)))</a>
    <a id="8963" class="Keyword">where</a> <a id="8969" class="Keyword">open</a> <a id="8974" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Module">Tx</a><a id="8976" class="Symbol">;</a> <a id="8978" class="Keyword">open</a> <a id="8983" href="Ledger.Dijkstra.Specification.Transaction.html#3665" class="Module">TxBody</a> <a id="8990" class="Symbol">(</a><a id="8991" href="Ledger.Dijkstra.Specification.Transaction.html#5416" class="Field">TxBodyOf</a> <a id="9000" href="Ledger.Dijkstra.Specification.Transaction.html#8863" class="Bound">tx</a><a id="9002" class="Symbol">)</a>

  <a id="TransactionStructure.txscripts"></a><a id="9007" href="Ledger.Dijkstra.Specification.Transaction.html#9007" class="Function">txscripts</a> <a id="9017" class="Symbol">:</a> <a id="9019" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="9022" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a> <a id="9030" class="Symbol">→</a> <a id="9032" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="9037" class="Symbol">→</a> <a id="9039" href="abstract-set-theory.FiniteSetTheory.html#488" class="Function Operator">ℙ</a> <a id="9041" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
  <a id="9050" href="Ledger.Dijkstra.Specification.Transaction.html#9007" class="Function">txscripts</a> <a id="9060" href="Ledger.Dijkstra.Specification.Transaction.html#9060" class="Bound">tx</a> <a id="9063" href="Ledger.Dijkstra.Specification.Transaction.html#9063" class="Bound">utxo</a> <a id="9068" class="Symbol">=</a> <a id="9070" href="Ledger.Dijkstra.Specification.Transaction.html#4979" class="Field">scripts</a> <a id="9078" class="Symbol">(</a><a id="9079" href="Ledger.Dijkstra.Specification.Transaction.html#9060" class="Bound">tx</a> <a id="9082" class="Symbol">.</a><a id="9083" href="Ledger.Dijkstra.Specification.Transaction.html#3528" class="Field">txWitnesses</a><a id="9094" class="Symbol">)</a> <a id="9096" href="Axiom.Set.html#8952" class="Function Operator">∪</a> <a id="9098" href="Axiom.Set.html#5718" class="Function">fromList</a> <a id="9107" class="Symbol">(</a><a id="9108" href="Ledger.Dijkstra.Specification.Transaction.html#8805" class="Function">refScripts</a> <a id="9119" href="Ledger.Dijkstra.Specification.Transaction.html#9060" class="Bound">tx</a> <a id="9122" href="Ledger.Dijkstra.Specification.Transaction.html#9063" class="Bound">utxo</a><a id="9126" class="Symbol">)</a>
    <a id="9132" class="Keyword">where</a> <a id="9138" class="Keyword">open</a> <a id="9143" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Module">Tx</a><a id="9145" class="Symbol">;</a> <a id="9147" class="Keyword">open</a> <a id="9152" href="Ledger.Dijkstra.Specification.Transaction.html#4864" class="Module">TxWitnesses</a>

  <a id="TransactionStructure.lookupScriptHash"></a><a id="9167" href="Ledger.Dijkstra.Specification.Transaction.html#9167" class="Function">lookupScriptHash</a> <a id="9184" class="Symbol">:</a> <a id="9186" href="Ledger.Core.Specification.Crypto.html#1242" class="Function">ScriptHash</a> <a id="9197" class="Symbol">→</a> <a id="9199" href="Ledger.Dijkstra.Specification.Transaction.html#3418" class="Record">Tx</a> <a id="9202" href="Ledger.Dijkstra.Specification.Transaction.html#1034" class="Generalizable">txLevel</a> <a id="9210" class="Symbol">→</a> <a id="9212" href="Ledger.Dijkstra.Specification.Transaction.html#2944" class="Function">UTxO</a> <a id="9217" class="Symbol">→</a> <a id="9219" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="9225" href="Ledger.Conway.Specification.Script.Base.html#2443" class="Function">Script</a>
  <a id="9234" href="Ledger.Dijkstra.Specification.Transaction.html#9167" class="Function">lookupScriptHash</a> <a id="9251" href="Ledger.Dijkstra.Specification.Transaction.html#9251" class="Bound">sh</a> <a id="9254" href="Ledger.Dijkstra.Specification.Transaction.html#9254" class="Bound">tx</a> <a id="9257" href="Ledger.Dijkstra.Specification.Transaction.html#9257" class="Bound">utxo</a> <a id="9262" class="Symbol">=</a>
    <a id="9268" href="Class.ToBool.html#342" class="Function Operator">if</a> <a id="9271" href="Ledger.Dijkstra.Specification.Transaction.html#9251" class="Bound">sh</a> <a id="9274" href="Class.IsSet.html#458" class="Function Operator">∈</a> <a id="9276" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9281" href="Data.Product.Base.html#636" class="Field">proj₁</a> <a id="9287" class="Symbol">(</a><a id="9288" href="Ledger.Dijkstra.Specification.Transaction.html#9357" class="Function">m</a> <a id="9290" href="Axiom.Set.Map.html#2293" class="Function Operator">ˢ</a><a id="9291" class="Symbol">)</a> <a id="9293" href="Class.ToBool.html#342" class="Function Operator">then</a>
      <a id="9304" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="9309" class="Symbol">(</a><a id="9310" href="Axiom.Set.Map.html#13486" class="Function">lookupᵐ</a> <a id="9318" href="Ledger.Dijkstra.Specification.Transaction.html#9357" class="Function">m</a> <a id="9320" href="Ledger.Dijkstra.Specification.Transaction.html#9251" class="Bound">sh</a><a id="9322" class="Symbol">)</a>
    <a id="9328" href="Class.ToBool.html#342" class="Function Operator">else</a>
      <a id="9339" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="9351" class="Keyword">where</a> <a id="9357" href="Ledger.Dijkstra.Specification.Transaction.html#9357" class="Function">m</a> <a id="9359" class="Symbol">=</a> <a id="9361" href="Ledger.Prelude.html#1740" class="Function">setToMap</a> <a id="9370" class="Symbol">(</a><a id="9371" href="abstract-set-theory.FiniteSetTheory.html#519" class="Function">mapˢ</a> <a id="9376" href="Data.Product.Base.html#2000" class="Function Operator">&lt;</a> <a id="9378" href="Interface.Hashable.html#205" class="Field">hash</a> <a id="9383" href="Data.Product.Base.html#2000" class="Function Operator">,</a> <a id="9385" href="Function.Base.html#704" class="Function">id</a> <a id="9388" href="Data.Product.Base.html#2000" class="Function Operator">&gt;</a> <a id="9390" class="Symbol">(</a><a id="9391" href="Ledger.Dijkstra.Specification.Transaction.html#9007" class="Function">txscripts</a> <a id="9401" href="Ledger.Dijkstra.Specification.Transaction.html#9254" class="Bound">tx</a> <a id="9404" href="Ledger.Dijkstra.Specification.Transaction.html#9257" class="Bound">utxo</a><a id="9408" class="Symbol">))</a>

</pre></body></html>